var Xn=Object.defineProperty;var gs=e=>{throw TypeError(e)};var Hn=(e,t,r)=>t in e?Xn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Wr=(e,t,r)=>Hn(e,typeof t!="symbol"?t+"":t,r),Da=(e,t,r)=>t.has(e)||gs("Cannot "+r);var ce=(e,t,r)=>(Da(e,t,"read from private field"),r?r.call(e):t.get(e)),lt=(e,t,r)=>t.has(e)?gs("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ut=(e,t,r,s)=>(Da(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),cr=(e,t,r)=>(Da(e,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();const gt=2,qs=4,Sa=8,fa=16,Ut=32,wr=64,Ms=128,wt=256,wa=512,nt=1024,Et=2048,Xt=4096,St=8192,kr=16384,Qa=32768,es=65536,ys=1<<17,Vn=1<<18,ts=1<<19,rs=1<<20,Ga=1<<21,as=1<<22,dr=1<<23,Ir=Symbol("$state"),$s=Symbol("legacy props"),Yn=Symbol(""),ss=new class extends Error{constructor(){super(...arguments);Wr(this,"name","StaleReactionError");Wr(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},ns=3,Qr=8,Rs=!1;var ls=Array.isArray,Wn=Array.prototype.indexOf,is=Array.from,ea=Object.defineProperty,Lr=Object.getOwnPropertyDescriptor,Fs=Object.getOwnPropertyDescriptors,Kn=Object.prototype,Jn=Array.prototype,os=Object.getPrototypeOf,bs=Object.isExtensible;const sr=()=>{};function Zn(e){return e()}function ta(e){for(var t=0;t<e.length;t++)e[t]()}function Qn(){var e,t,r=new Promise((s,n)=>{e=s,t=n});return{promise:r,resolve:e,reject:t}}function ws(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const r=[];for(const s of e)if(r.push(s),r.length===t)break;return r}function Gs(e){return e===this.v}function Bs(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function zs(e){return!Bs(e,this.v)}function el(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Us(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function tl(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function rl(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function al(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function sl(e){throw new Error("https://svelte.dev/e/effect_orphan")}function nl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ll(){throw new Error("https://svelte.dev/e/hydration_failed")}function il(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ol(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function vl(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function cl(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let zr=!1,ul=!1;function fl(){zr=!0}const Aa=1,Ta=2,Xs=4,dl=8,_l=16,hl=1,pl=2,ml=4,gl=8,yl=16,bl=1,wl=2,Hs="[",vs="[!",cs="]",Or={},at=Symbol(),kl="http://www.w3.org/1999/xhtml";let ze=null;function ka(e){ze=e}function $t(e,t=!1,r){ze={p:ze,c:null,e:null,s:e,x:null,l:zr&&!t?{s:null,u:null,$:[]}:null}}function Rt(e){var t=ze,r=t.e;if(r!==null){t.e=null;for(var s of r)wn(s)}return e!==void 0&&(t.x=e),ze=t.p,e??{}}function Ur(){return!zr||ze!==null&&ze.l===null}function ja(e){console.warn("https://svelte.dev/e/hydration_mismatch")}let je=!1;function Gt(e){je=e}let De;function kt(e){if(e===null)throw ja(),Or;return De=e}function Ca(){return kt(Ht(De))}function o(e){if(je){if(Ht(De)!==null)throw ja(),Or;De=e}}function Nt(e=1){if(je){for(var t=e,r=De;t--;)r=Ht(r);De=r}}function Ba(){for(var e=0,t=De;;){if(t.nodeType===Qr){var r=t.data;if(r===cs){if(e===0)return t;e-=1}else(r===Hs||r===vs)&&(e+=1)}var s=Ht(t);t.remove(),t=s}}function Vs(e){if(!e||e.nodeType!==Qr)throw ja(),Or;return e.data}function Cr(e){if(typeof e!="object"||e===null||Ir in e)return e;const t=os(e);if(t!==Kn&&t!==Jn)return e;var r=new Map,s=ls(e),n=Zt(0),l=pr,i=v=>{if(pr===l)return v();var u=ke,f=pr;Mt(null),js(l);var p=v();return Mt(u),js(f),p};return s&&r.set("length",Zt(e.length)),new Proxy(e,{defineProperty(v,u,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&ol();var p=r.get(u);return p===void 0?p=i(()=>{var k=Zt(f.value);return r.set(u,k),k}):m(p,f.value,!0),!0},deleteProperty(v,u){var f=r.get(u);if(f===void 0){if(u in v){const p=i(()=>Zt(at));r.set(u,p),qa(n)}}else m(f,at),qa(n);return!0},get(v,u,f){var j;if(u===Ir)return e;var p=r.get(u),k=u in v;if(p===void 0&&(!k||(j=Lr(v,u))!=null&&j.writable)&&(p=i(()=>{var b=Cr(k?v[u]:at),O=Zt(b);return O}),r.set(u,p)),p!==void 0){var T=a(p);return T===at?void 0:T}return Reflect.get(v,u,f)},getOwnPropertyDescriptor(v,u){var f=Reflect.getOwnPropertyDescriptor(v,u);if(f&&"value"in f){var p=r.get(u);p&&(f.value=a(p))}else if(f===void 0){var k=r.get(u),T=k==null?void 0:k.v;if(k!==void 0&&T!==at)return{enumerable:!0,configurable:!0,value:T,writable:!0}}return f},has(v,u){var T;if(u===Ir)return!0;var f=r.get(u),p=f!==void 0&&f.v!==at||Reflect.has(v,u);if(f!==void 0||be!==null&&(!p||(T=Lr(v,u))!=null&&T.writable)){f===void 0&&(f=i(()=>{var j=p?Cr(v[u]):at,b=Zt(j);return b}),r.set(u,f));var k=a(f);if(k===at)return!1}return p},set(v,u,f,p){var d;var k=r.get(u),T=u in v;if(s&&u==="length")for(var j=f;j<k.v;j+=1){var b=r.get(j+"");b!==void 0?m(b,at):j in v&&(b=i(()=>Zt(at)),r.set(j+"",b))}if(k===void 0)(!T||(d=Lr(v,u))!=null&&d.writable)&&(k=i(()=>Zt(void 0)),m(k,Cr(f)),r.set(u,k));else{T=k.v!==at;var O=i(()=>Cr(f));m(k,O)}var P=Reflect.getOwnPropertyDescriptor(v,u);if(P!=null&&P.set&&P.set.call(p,f),!T){if(s&&typeof u=="string"){var W=r.get("length"),re=Number(u);Number.isInteger(re)&&re>=W.v&&m(W,re+1)}qa(n)}return!0},ownKeys(v){a(n);var u=Reflect.ownKeys(v).filter(k=>{var T=r.get(k);return T===void 0||T.v!==at});for(var[f,p]of r)p.v!==at&&!(f in v)&&u.push(f);return u},setPrototypeOf(){vl()}})}var ks,Ys,Ws,Ks;function za(){if(ks===void 0){ks=window,Ys=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Ws=Lr(t,"firstChild").get,Ks=Lr(t,"nextSibling").get,bs(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),bs(r)&&(r.__t=void 0)}}function qt(e=""){return document.createTextNode(e)}function mr(e){return Ws.call(e)}function Ht(e){return Ks.call(e)}function c(e,t){if(!je)return mr(e);var r=mr(De);if(r===null)r=De.appendChild(qt());else if(t&&r.nodeType!==ns){var s=qt();return r==null||r.before(s),kt(s),s}return kt(r),r}function xe(e,t){if(!je){var r=mr(e);return r instanceof Comment&&r.data===""?Ht(r):r}return De}function h(e,t=1,r=!1){let s=je?De:e;for(var n;t--;)n=s,s=Ht(s);if(!je)return s;if(r&&(s==null?void 0:s.nodeType)!==ns){var l=qt();return s===null?n==null||n.after(l):s.before(l),kt(l),l}return kt(s),s}function Js(e){e.textContent=""}function Zs(){return!1}const El=new WeakMap;function xl(e){var t=be;if(t===null)return ke.f|=dr,e;if(t.f&Qa)us(e,t);else{if(!(t.f&Ms))throw!t.parent&&e instanceof Error&&Qs(e),e;t.b.error(e)}}function us(e,t){for(;t!==null;){if(t.f&Ms)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw e instanceof Error&&Qs(e),e}function Qs(e){const t=El.get(e);t&&(ea(e,"message",{value:t.message}),ea(e,"stack",{value:t.stack}))}const Nl=typeof requestIdleCallback>"u"?e=>setTimeout(e,1):requestIdleCallback;let ra=[],aa=[];function en(){var e=ra;ra=[],ta(e)}function tn(){var e=aa;aa=[],ta(e)}function rn(e){ra.length===0&&queueMicrotask(en),ra.push(e)}function Sl(e){aa.length===0&&Nl(tn),aa.push(e)}function Al(){ra.length>0&&en(),aa.length>0&&tn()}function Tl(){for(var e=be.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&el(),e}function da(e){var t=gt|Et,r=ke!==null&&ke.f&gt?ke:null;return be===null||r!==null&&r.f&wt?t|=wt:be.f|=ts,{ctx:ze,deps:null,effects:null,equals:Gs,f:t,fn:e,reactions:null,rv:0,v:at,wv:0,parent:r??be,ac:null}}function jl(e,t){let r=be;r===null&&tl();var s=r.b,n=void 0,l=na(at),i=null,v=!ke;return Fl(()=>{try{var u=e()}catch(j){u=Promise.reject(j)}var f=()=>u;n=(i==null?void 0:i.then(f,f))??Promise.resolve(u),i=n;var p=Oe,k=s.pending;v&&(s.update_pending_count(1),k||p.increment());const T=(j,b=void 0)=>{i=null,k||p.activate(),b?b!==ss&&(l.f|=dr,la(l,b)):(l.f&dr&&(l.f^=dr),la(l,j)),v&&(s.update_pending_count(-1),k||p.decrement()),nn()};if(n.then(T,j=>T(null,j||"unknown")),p)return()=>{queueMicrotask(()=>p.neuter())}}),new Promise(u=>{function f(p){function k(){p===n?u(l):f(n)}p.then(k,k)}f(n)})}function Es(e){const t=da(e);return dn(t),t}function _r(e){const t=da(e);return t.equals=zs,t}function an(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)zt(t[r])}}function Cl(e){for(var t=e.parent;t!==null;){if(!(t.f&gt))return t;t=t.parent}return null}function fs(e){var t,r=be;lr(Cl(e));try{an(e),t=mn(e)}finally{lr(r)}return t}function sn(e){var t=fs(e);if(e.equals(t)||(e.v=t,e.wv=hn()),!Er)if(rr!==null)rr.set(e,e.v);else{var r=(ar||e.f&wt)&&e.deps!==null?Xt:nt;ct(e,r)}}function Il(e,t,r){const s=Ur()?da:_r;if(t.length===0){r(e.map(s));return}var n=Oe,l=be,i=Ll(),v=Tl();Promise.all(t.map(u=>jl(u))).then(u=>{n==null||n.activate(),i();try{r([...e.map(s),...u])}catch(f){l.f&kr||us(f,l)}n==null||n.deactivate(),nn()}).catch(u=>{v.error(u)})}function Ll(){var e=be,t=ke,r=ze;return function(){lr(e),Mt(t),ka(r)}}function nn(){lr(null),Mt(null),ka(null)}const Kr=new Set;let Oe=null,pa=null,rr=null,xs=new Set,Ea=[];function ln(){const e=Ea.shift();Ea.length>0&&queueMicrotask(ln),e()}let gr=[],Ia=null,Ua=!1,ma=!1;var Mr,$r,er,oa,va,ur,Rr,fr,tr,Fr,ca,ua,Tt,on,ga,Xa;const Na=class Na{constructor(){lt(this,Tt);Wr(this,"current",new Map);lt(this,Mr,new Map);lt(this,$r,new Set);lt(this,er,0);lt(this,oa,null);lt(this,va,!1);lt(this,ur,[]);lt(this,Rr,[]);lt(this,fr,[]);lt(this,tr,[]);lt(this,Fr,[]);lt(this,ca,[]);lt(this,ua,[]);Wr(this,"skipped_effects",new Set)}process(t){var l;gr=[],pa=null;var r=null;if(Kr.size>1){r=new Map,rr=new Map;for(const[i,v]of this.current)r.set(i,{v:i.v,wv:i.wv}),i.v=v;for(const i of Kr)if(i!==this)for(const[v,u]of ce(i,Mr))r.has(v)||(r.set(v,{v:v.v,wv:v.wv}),v.v=u)}for(const i of t)cr(this,Tt,on).call(this,i);if(ce(this,ur).length===0&&ce(this,er)===0){cr(this,Tt,Xa).call(this);var s=ce(this,fr),n=ce(this,tr);ut(this,fr,[]),ut(this,tr,[]),ut(this,Fr,[]),pa=Oe,Oe=null,Ns(s),Ns(n),Oe===null?Oe=this:Kr.delete(this),(l=ce(this,oa))==null||l.resolve()}else cr(this,Tt,ga).call(this,ce(this,fr)),cr(this,Tt,ga).call(this,ce(this,tr)),cr(this,Tt,ga).call(this,ce(this,Fr));if(r){for(const[i,{v,wv:u}]of r)i.wv<=u&&(i.v=v);rr=null}for(const i of ce(this,ur))Dr(i);for(const i of ce(this,Rr))Dr(i);ut(this,ur,[]),ut(this,Rr,[])}capture(t,r){ce(this,Mr).has(t)||ce(this,Mr).set(t,r),this.current.set(t,t.v)}activate(){Oe=this}deactivate(){Oe=null,pa=null;for(const t of xs)if(xs.delete(t),t(),Oe!==null)break}neuter(){ut(this,va,!0)}flush(){gr.length>0?vn():cr(this,Tt,Xa).call(this),Oe===this&&(ce(this,er)===0&&Kr.delete(this),this.deactivate())}increment(){ut(this,er,ce(this,er)+1)}decrement(){if(ut(this,er,ce(this,er)-1),ce(this,er)===0){for(const t of ce(this,ca))ct(t,Et),yr(t);for(const t of ce(this,ua))ct(t,Xt),yr(t);ut(this,fr,[]),ut(this,tr,[]),this.flush()}else this.deactivate()}add_callback(t){ce(this,$r).add(t)}settled(){return(ce(this,oa)??ut(this,oa,Qn())).promise}static ensure(){if(Oe===null){const t=Oe=new Na;Kr.add(Oe),ma||Na.enqueue(()=>{Oe===t&&t.flush()})}return Oe}static enqueue(t){Ea.length===0&&queueMicrotask(ln),Ea.unshift(t)}};Mr=new WeakMap,$r=new WeakMap,er=new WeakMap,oa=new WeakMap,va=new WeakMap,ur=new WeakMap,Rr=new WeakMap,fr=new WeakMap,tr=new WeakMap,Fr=new WeakMap,ca=new WeakMap,ua=new WeakMap,Tt=new WeakSet,on=function(t){var p;t.f^=nt;for(var r=t.first;r!==null;){var s=r.f,n=(s&(Ut|wr))!==0,l=n&&(s&nt)!==0,i=l||(s&St)!==0||this.skipped_effects.has(r);if(!i&&r.fn!==null){if(n)r.f^=nt;else if(!(s&nt))if(s&qs)ce(this,tr).push(r);else if(s&as){var v=(p=r.b)!=null&&p.pending?ce(this,Rr):ce(this,ur);v.push(r)}else _a(r)&&(r.f&fa&&ce(this,Fr).push(r),Dr(r));var u=r.first;if(u!==null){r=u;continue}}var f=r.parent;for(r=r.next;r===null&&f!==null;)r=f.next,f=f.parent}},ga=function(t){for(const r of t)(r.f&Et?ce(this,ca):ce(this,ua)).push(r),ct(r,nt);t.length=0},Xa=function(){if(!ce(this,va))for(const t of ce(this,$r))t();ce(this,$r).clear()};let sa=Na;function At(e){var t=ma;ma=!0;try{for(var r;;){if(Al(),gr.length===0&&(Oe==null||Oe.flush(),gr.length===0))return Ia=null,r;vn()}}finally{ma=t}}function vn(){var e=Pr;Ua=!0;try{var t=0;for(As(!0);gr.length>0;){var r=sa.ensure();if(t++>1e3){var s,n;Ol()}r.process(gr),hr.clear()}}finally{Ua=!1,As(e),Ia=null}}function Ol(){try{nl()}catch(e){us(e,Ia)}}function Ns(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var s=e[r++];if(!(s.f&(kr|St))&&_a(s)){var n=Oe?Oe.current.size:0;if(Dr(s),s.deps===null&&s.first===null&&s.nodes_start===null&&(s.teardown===null&&s.ac===null?Nn(s):s.fn=null),Oe!==null&&Oe.current.size>n&&s.f&rs)break}}for(;r<t;)yr(e[r++])}}function yr(e){for(var t=Ia=e;t.parent!==null;){t=t.parent;var r=t.f;if(Ua&&t===be&&r&fa)return;if(r&(wr|Ut)){if(!(r&nt))return;t.f^=nt}}gr.push(t)}const hr=new Map;function na(e,t){var r={f:0,v:e,reactions:null,equals:Gs,rv:0,wv:0};return r}function Zt(e,t){const r=na(e);return dn(r),r}function te(e,t=!1,r=!0){var n;const s=na(e);return t||(s.equals=zs),zr&&r&&ze!==null&&ze.l!==null&&((n=ze.l).s??(n.s=[])).push(s),s}function m(e,t,r=!1){ke!==null&&(!Ot||ke.f&ys)&&Ur()&&ke.f&(gt|fa|as|ys)&&!(vt!=null&&vt.includes(e))&&cl();let s=r?Cr(t):t;return la(e,s)}function la(e,t){if(!e.equals(t)){var r=e.v;Er?hr.set(e,t):hr.set(e,r),e.v=t;var s=sa.ensure();s.capture(e,r),e.f&gt&&(e.f&Et&&fs(e),ct(e,e.f&wt?Xt:nt)),e.wv=hn(),cn(e,Et),Ur()&&be!==null&&be.f&nt&&!(be.f&(Ut|wr))&&(yt===null?Pl([e]):yt.push(e))}return t}function qa(e){m(e,e.v+1)}function cn(e,t){var r=e.reactions;if(r!==null)for(var s=Ur(),n=r.length,l=0;l<n;l++){var i=r[l],v=i.f;if(!(!s&&i===be)){var u=(v&Et)===0;u&&ct(i,t),v&gt?cn(i,Xt):u&&yr(i)}}}let Ss=!1;function un(){Ss||(Ss=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function La(e){var t=ke,r=be;Mt(null),lr(null);try{return e()}finally{Mt(t),lr(r)}}function fn(e,t,r,s=r){e.addEventListener(t,()=>La(r));const n=e.__on_r;n?e.__on_r=()=>{n(),s(!0)}:e.__on_r=()=>s(!0),un()}let Pr=!1;function As(e){Pr=e}let Er=!1;function Ts(e){Er=e}let ke=null,Ot=!1;function Mt(e){ke=e}let be=null;function lr(e){be=e}let vt=null;function dn(e){ke!==null&&(vt===null?vt=[e]:vt.push(e))}let ot=null,ht=0,yt=null;function Pl(e){yt=e}let _n=1,ia=0,pr=ia;function js(e){pr=e}let ar=!1;function hn(){return++_n}function _a(e){var k;var t=e.f;if(t&Et)return!0;if(t&Xt){var r=e.deps,s=(t&wt)!==0;if(r!==null){var n,l,i=(t&wa)!==0,v=s&&be!==null&&!ar,u=r.length;if((i||v)&&(be===null||!(be.f&kr))){var f=e,p=f.parent;for(n=0;n<u;n++)l=r[n],(i||!((k=l==null?void 0:l.reactions)!=null&&k.includes(f)))&&(l.reactions??(l.reactions=[])).push(f);i&&(f.f^=wa),v&&p!==null&&!(p.f&wt)&&(f.f^=wt)}for(n=0;n<u;n++)if(l=r[n],_a(l)&&sn(l),l.wv>e.wv)return!0}(!s||be!==null&&!ar)&&ct(e,nt)}return!1}function pn(e,t,r=!0){var s=e.reactions;if(s!==null&&!(vt!=null&&vt.includes(e)))for(var n=0;n<s.length;n++){var l=s[n];l.f&gt?pn(l,t,!1):t===l&&(r?ct(l,Et):l.f&nt&&ct(l,Xt),yr(l))}}function mn(e){var O;var t=ot,r=ht,s=yt,n=ke,l=ar,i=vt,v=ze,u=Ot,f=pr,p=e.f;ot=null,ht=0,yt=null,ar=(p&wt)!==0&&(Ot||!Pr||ke===null),ke=p&(Ut|wr)?null:e,vt=null,ka(e.ctx),Ot=!1,pr=++ia,e.ac!==null&&(La(()=>{e.ac.abort(ss)}),e.ac=null);try{e.f|=Ga;var k=e.fn,T=k(),j=e.deps;if(ot!==null){var b;if(xa(e,ht),j!==null&&ht>0)for(j.length=ht+ot.length,b=0;b<ot.length;b++)j[ht+b]=ot[b];else e.deps=j=ot;if(!ar||p&gt&&e.reactions!==null)for(b=ht;b<j.length;b++)((O=j[b]).reactions??(O.reactions=[])).push(e)}else j!==null&&ht<j.length&&(xa(e,ht),j.length=ht);if(Ur()&&yt!==null&&!Ot&&j!==null&&!(e.f&(gt|Xt|Et)))for(b=0;b<yt.length;b++)pn(yt[b],e);return n!==null&&n!==e&&(ia++,yt!==null&&(s===null?s=yt:s.push(...yt))),e.f&dr&&(e.f^=dr),T}catch(P){return xl(P)}finally{e.f^=Ga,ot=t,ht=r,yt=s,ke=n,ar=l,vt=i,ka(v),Ot=u,pr=f}}function Dl(e,t){let r=t.reactions;if(r!==null){var s=Wn.call(r,e);if(s!==-1){var n=r.length-1;n===0?r=t.reactions=null:(r[s]=r[n],r.pop())}}r===null&&t.f&gt&&(ot===null||!ot.includes(t))&&(ct(t,Xt),t.f&(wt|wa)||(t.f^=wa),an(t),xa(t,0))}function xa(e,t){var r=e.deps;if(r!==null)for(var s=t;s<r.length;s++)Dl(e,r[s])}function Dr(e){var t=e.f;if(!(t&kr)){ct(e,nt);var r=be,s=Pr;be=e,Pr=!0;try{t&fa?Gl(e):xn(e),En(e);var n=mn(e);e.teardown=typeof n=="function"?n:null,e.wv=_n;var l;Rs&&ul&&e.f&Et&&e.deps}finally{Pr=s,be=r}}}function a(e){var t=e.f,r=(t&gt)!==0;if(ke!==null&&!Ot){var s=be!==null&&(be.f&kr)!==0;if(!s&&!(vt!=null&&vt.includes(e))){var n=ke.deps;if(ke.f&Ga)e.rv<ia&&(e.rv=ia,ot===null&&n!==null&&n[ht]===e?ht++:ot===null?ot=[e]:(!ar||!ot.includes(e))&&ot.push(e));else{(ke.deps??(ke.deps=[])).push(e);var l=e.reactions;l===null?e.reactions=[ke]:l.includes(ke)||l.push(ke)}}}else if(r&&e.deps===null&&e.effects===null){var i=e,v=i.parent;v!==null&&!(v.f&wt)&&(i.f^=wt)}if(Er){if(hr.has(e))return hr.get(e);if(r){i=e;var u=i.v;return(!(i.f&nt)&&i.reactions!==null||gn(i))&&(u=fs(i)),hr.set(i,u),u}}else if(r){if(i=e,rr!=null&&rr.has(i))return rr.get(i);_a(i)&&sn(i)}if(e.f&dr)throw e.v;return e.v}function gn(e){if(e.v===at)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(hr.has(t)||t.f&gt&&gn(t))return!0;return!1}function y(e){var t=Ot;try{return Ot=!0,e()}finally{Ot=t}}const ql=-7169;function ct(e,t){e.f=e.f&ql|t}function pt(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ir in e)Ha(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&Ir in r&&Ha(r)}}}function Ha(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let s in e)try{Ha(e[s],t)}catch{}const r=os(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const s=Fs(r);for(let n in s){const l=s[n].get;if(l)try{l.call(e)}catch{}}}}}function yn(e){be===null&&ke===null&&sl(),ke!==null&&ke.f&wt&&be===null&&al(),Er&&rl()}function Ml(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Vt(e,t,r,s=!0){var n=be;n!==null&&n.f&St&&(e|=St);var l={ctx:ze,deps:null,nodes_start:null,nodes_end:null,f:e|Et,first:null,fn:t,last:null,next:null,parent:n,b:n&&n.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{Dr(l),l.f|=Qa}catch(u){throw zt(l),u}else t!==null&&yr(l);var i=r&&l.deps===null&&l.first===null&&l.nodes_start===null&&l.teardown===null&&(l.f&ts)===0;if(!i&&s&&(n!==null&&Ml(l,n),ke!==null&&ke.f&gt&&!(e&wr))){var v=ke;(v.effects??(v.effects=[])).push(l)}return l}function bn(e){const t=Vt(Sa,null,!1);return ct(t,nt),t.teardown=e,t}function Va(e){yn();var t=be.f,r=!ke&&(t&Ut)!==0&&(t&Qa)===0;if(r){var s=ze;(s.e??(s.e=[])).push(e)}else return wn(e)}function wn(e){return Vt(qs|rs,e,!1)}function $l(e){return yn(),Vt(Sa|rs,e,!0)}function Rl(e){sa.ensure();const t=Vt(wr,e,!0);return(r={})=>new Promise(s=>{r.outro?ds(t,()=>{zt(t),s(void 0)}):(zt(t),s(void 0))})}function mt(e,t){var r=ze,s={effect:null,ran:!1,deps:e};r.l.$.push(s),s.effect=Oa(()=>{e(),!s.ran&&(s.ran=!0,y(t))})}function xr(){var e=ze;Oa(()=>{for(var t of e.l.$){t.deps();var r=t.effect;r.f&nt&&ct(r,Xt),_a(r)&&Dr(r),t.ran=!1}})}function Fl(e){return Vt(as|ts,e,!0)}function Oa(e,t=0){return Vt(Sa|t,e,!0)}function ne(e,t=[],r=[]){Il(t,r,s=>{Vt(Sa,()=>e(...s.map(a)),!0)})}function kn(e,t=0){var r=Vt(fa|t,e,!0);return r}function Gr(e,t=!0){return Vt(Ut,e,!0,t)}function En(e){var t=e.teardown;if(t!==null){const r=Er,s=ke;Ts(!0),Mt(null);try{t.call(null)}finally{Ts(r),Mt(s)}}}function xn(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const n=r.ac;n!==null&&La(()=>{n.abort(ss)});var s=r.next;r.f&wr?r.parent=null:zt(r,t),r=s}}function Gl(e){for(var t=e.first;t!==null;){var r=t.next;t.f&Ut||zt(t),t=r}}function zt(e,t=!0){var r=!1;(t||e.f&Vn)&&e.nodes_start!==null&&e.nodes_end!==null&&(Bl(e.nodes_start,e.nodes_end),r=!0),xn(e,t&&!r),xa(e,0),ct(e,kr);var s=e.transitions;if(s!==null)for(const l of s)l.stop();En(e);var n=e.parent;n!==null&&n.first!==null&&Nn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Bl(e,t){for(;e!==null;){var r=e===t?null:Ht(e);e.remove(),e=r}}function Nn(e){var t=e.parent,r=e.prev,s=e.next;r!==null&&(r.next=s),s!==null&&(s.prev=r),t!==null&&(t.first===e&&(t.first=s),t.last===e&&(t.last=r))}function ds(e,t){var r=[];_s(e,r,!0),Sn(r,()=>{zt(e),t&&t()})}function Sn(e,t){var r=e.length;if(r>0){var s=()=>--r||t();for(var n of e)n.out(s)}else t()}function _s(e,t,r){if(!(e.f&St)){if(e.f^=St,e.transitions!==null)for(const i of e.transitions)(i.is_global||r)&&t.push(i);for(var s=e.first;s!==null;){var n=s.next,l=(s.f&es)!==0||(s.f&Ut)!==0;_s(s,t,l?r:!1),s=n}}}function hs(e){An(e,!0)}function An(e,t){if(e.f&St){e.f^=St,e.f&nt||(ct(e,Et),yr(e));for(var r=e.first;r!==null;){var s=r.next,n=(r.f&es)!==0||(r.f&Ut)!==0;An(r,n?t:!1),r=s}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}const zl=new Set,Cs=new Set;function Ul(e,t,r,s={}){function n(l){if(s.capture||Jr.call(t,l),!l.cancelBubble)return La(()=>r==null?void 0:r.call(this,l))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?rn(()=>{t.addEventListener(e,n,s)}):t.addEventListener(e,n,s),n}function ae(e,t,r,s,n){var l={capture:s,passive:n},i=Ul(e,t,r,l);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&bn(()=>{t.removeEventListener(e,i,l)})}let Is=null;function Jr(e){var re;var t=this,r=t.ownerDocument,s=e.type,n=((re=e.composedPath)==null?void 0:re.call(e))||[],l=n[0]||e.target;Is=e;var i=0,v=Is===e&&e.__root;if(v){var u=n.indexOf(v);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var f=n.indexOf(t);if(f===-1)return;u<=f&&(i=u)}if(l=n[i]||e.target,l!==t){ea(e,"currentTarget",{configurable:!0,get(){return l||r}});var p=ke,k=be;Mt(null),lr(null);try{for(var T,j=[];l!==null;){var b=l.assignedSlot||l.parentNode||l.host||null;try{var O=l["__"+s];if(O!=null&&(!l.disabled||e.target===l))if(ls(O)){var[P,...W]=O;P.apply(l,[e,...W])}else O.call(l,e)}catch(d){T?j.push(d):T=d}if(e.cancelBubble||b===t||b===null)break;l=b}if(T){for(let d of j)queueMicrotask(()=>{throw d});throw T}}finally{e.__root=t,delete e.currentTarget,Mt(p),lr(k)}}}function Xl(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function nr(e,t){var r=be;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function S(e,t){var r=(t&bl)!==0,s=(t&wl)!==0,n,l=!e.startsWith("<!>");return()=>{if(je)return nr(De,null),De;n===void 0&&(n=Xl(l?e:"<!>"+e),r||(n=mr(n)));var i=s||Ys?document.importNode(n,!0):n.cloneNode(!0);if(r){var v=mr(i),u=i.lastChild;nr(v,u)}else nr(i,i);return i}}function Zr(e=""){if(!je){var t=qt(e+"");return nr(t,t),t}var r=De;return r.nodeType!==ns&&(r.before(r=qt()),kt(r)),nr(r,r),r}function $e(){if(je)return nr(De,null),De;var e=document.createDocumentFragment(),t=document.createComment(""),r=qt();return e.append(t,r),nr(t,r),e}function g(e,t){if(je){be.nodes_end=De,Ca();return}e!==null&&e.before(t)}const Hl=["touchstart","touchmove"];function Vl(e){return Hl.includes(e)}function X(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function Tn(e,t){return jn(e,t)}function Yl(e,t){za(),t.intro=t.intro??!1;const r=t.target,s=je,n=De;try{for(var l=mr(r);l&&(l.nodeType!==Qr||l.data!==Hs);)l=Ht(l);if(!l)throw Or;Gt(!0),kt(l),Ca();const i=jn(e,{...t,anchor:l});if(De===null||De.nodeType!==Qr||De.data!==cs)throw ja(),Or;return Gt(!1),i}catch(i){if(i instanceof Error&&i.message.split(`
`).some(v=>v.startsWith("https://svelte.dev/e/")))throw i;return i!==Or&&console.warn("Failed to hydrate: ",i),t.recover===!1&&ll(),za(),Js(r),Gt(!1),Tn(e,t)}finally{Gt(s),kt(n)}}const Tr=new Map;function jn(e,{target:t,anchor:r,props:s={},events:n,context:l,intro:i=!0}){za();var v=new Set,u=k=>{for(var T=0;T<k.length;T++){var j=k[T];if(!v.has(j)){v.add(j);var b=Vl(j);t.addEventListener(j,Jr,{passive:b});var O=Tr.get(j);O===void 0?(document.addEventListener(j,Jr,{passive:b}),Tr.set(j,1)):Tr.set(j,O+1)}}};u(is(zl)),Cs.add(u);var f=void 0,p=Rl(()=>{var k=r??t.appendChild(qt());return Gr(()=>{if(l){$t({});var T=ze;T.c=l}n&&(s.$$events=n),je&&nr(k,null),f=e(k,s)||{},je&&(be.nodes_end=De),l&&Rt()}),()=>{var b;for(var T of v){t.removeEventListener(T,Jr);var j=Tr.get(T);--j===0?(document.removeEventListener(T,Jr),Tr.delete(T)):Tr.set(T,j)}Cs.delete(u),k!==r&&((b=k.parentNode)==null||b.removeChild(k))}});return Ya.set(f,p),f}let Ya=new WeakMap;function Wl(e,t){const r=Ya.get(e);return r?(Ya.delete(e),r(t)):Promise.resolve()}function Yt(e){return new Kl(e)}var Ft,bt;class Kl{constructor(t){lt(this,Ft);lt(this,bt);var l;var r=new Map,s=(i,v)=>{var u=te(v,!1,!1);return r.set(i,u),u};const n=new Proxy({...t.props||{},$$events:{}},{get(i,v){return a(r.get(v)??s(v,Reflect.get(i,v)))},has(i,v){return v===$s?!0:(a(r.get(v)??s(v,Reflect.get(i,v))),Reflect.has(i,v))},set(i,v,u){return m(r.get(v)??s(v,u),u),Reflect.set(i,v,u)}});ut(this,bt,(t.hydrate?Yl:Tn)(t.component,{target:t.target,anchor:t.anchor,props:n,context:t.context,intro:t.intro??!1,recover:t.recover})),(!((l=t==null?void 0:t.props)!=null&&l.$$host)||t.sync===!1)&&At(),ut(this,Ft,n.$$events);for(const i of Object.keys(ce(this,bt)))i==="$set"||i==="$destroy"||i==="$on"||ea(this,i,{get(){return ce(this,bt)[i]},set(v){ce(this,bt)[i]=v},enumerable:!0});ce(this,bt).$set=i=>{Object.assign(n,i)},ce(this,bt).$destroy=()=>{Wl(ce(this,bt))}}$set(t){ce(this,bt).$set(t)}$on(t,r){ce(this,Ft)[t]=ce(this,Ft)[t]||[];const s=(...n)=>r.call(this,...n);return ce(this,Ft)[t].push(s),()=>{ce(this,Ft)[t]=ce(this,Ft)[t].filter(n=>n!==s)}}$destroy(){ce(this,bt).$destroy()}}Ft=new WeakMap,bt=new WeakMap;const Jl="5";var Ds;typeof window<"u"&&((Ds=window.__svelte??(window.__svelte={})).v??(Ds.v=new Set)).add(Jl);fl();function ir(e){ze===null&&Us(),zr&&ze.l!==null?Zl(ze).m.push(e):Va(()=>{const t=y(e);if(typeof t=="function")return t})}function Xr(e){ze===null&&Us(),ir(()=>()=>y(e))}function Zl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}function Y(e,t,r=!1){je&&Ca();var s=e,n=null,l=null,i=at,v=r?es:0,u=!1;const f=(j,b=!0)=>{u=!0,T(b,j)};var p=null;function k(){p!==null&&(p.lastChild.remove(),s.before(p),p=null);var j=i?n:l,b=i?l:n;j&&hs(j),b&&ds(b,()=>{i?l=null:n=null})}const T=(j,b)=>{if(i===(i=j))return;let O=!1;if(je){const R=Vs(s)===vs;!!i===R&&(s=Ba(),kt(s),Gt(!1),O=!0)}var P=Zs(),W=s;if(P&&(p=document.createDocumentFragment(),p.append(W=qt())),i?n??(n=b&&Gr(()=>b(W))):l??(l=b&&Gr(()=>b(W))),P){var re=Oe,d=i?n:l,A=i?l:n;d&&re.skipped_effects.delete(d),A&&re.skipped_effects.add(A),re.add_callback(k)}else k();O&&Gt(!0)};kn(()=>{u=!1,t(f),u||T(null,null)},v),je&&(s=De)}function st(e,t){return t}function Ql(e,t,r){for(var s=e.items,n=[],l=t.length,i=0;i<l;i++)_s(t[i].e,n,!0);var v=l>0&&n.length===0&&r!==null;if(v){var u=r.parentNode;Js(u),u.append(r),s.clear(),It(e,t[0].prev,t[l-1].next)}Sn(n,()=>{for(var f=0;f<l;f++){var p=t[f];v||(s.delete(p.k),It(e,p.prev,p.next)),zt(p.e,!v)}})}function We(e,t,r,s,n,l=null){var i=e,v={flags:t,items:new Map,first:null},u=(t&Xs)!==0;if(u){var f=e;i=je?kt(mr(f)):f.appendChild(qt())}je&&Ca();var p=null,k=!1,T=new Map,j=_r(()=>{var W=r();return ls(W)?W:W==null?[]:is(W)}),b,O;function P(){ei(O,b,v,T,i,n,t,s,r),l!==null&&(b.length===0?p?hs(p):p=Gr(()=>l(i)):p!==null&&ds(p,()=>{p=null}))}kn(()=>{O??(O=be),b=a(j);var W=b.length;if(k&&W===0)return;k=W===0;let re=!1;if(je){var d=Vs(i)===vs;d!==(W===0)&&(i=Ba(),kt(i),Gt(!1),re=!0)}if(je){for(var A=null,R,L=0;L<W;L++){if(De.nodeType===Qr&&De.data===cs){i=De,re=!0,Gt(!1);break}var U=b[L],H=s(U,L);R=Wa(De,v,A,null,U,H,L,n,t,r),v.items.set(H,R),A=R}W>0&&kt(Ba())}if(je)W===0&&l&&(p=Gr(()=>l(i)));else if(Zs()){var G=new Set,le=Oe;for(L=0;L<W;L+=1){U=b[L],H=s(U,L);var _e=v.items.get(H)??T.get(H);_e?t&(Aa|Ta)&&Cn(_e,U,L,t):(R=Wa(null,v,null,null,U,H,L,n,t,r,!0),T.set(H,R)),G.add(H)}for(const[ue,x]of v.items)G.has(ue)||le.skipped_effects.add(x.e);le.add_callback(P)}else P();re&&Gt(!0),a(j)}),je&&(i=De)}function ei(e,t,r,s,n,l,i,v,u){var z,oe,Ke,q;var f=(i&dl)!==0,p=(i&(Aa|Ta))!==0,k=t.length,T=r.items,j=r.first,b=j,O,P=null,W,re=[],d=[],A,R,L,U;if(f)for(U=0;U<k;U+=1)A=t[U],R=v(A,U),L=T.get(R),L!==void 0&&((z=L.a)==null||z.measure(),(W??(W=new Set)).add(L));for(U=0;U<k;U+=1){if(A=t[U],R=v(A,U),L=T.get(R),L===void 0){var H=s.get(R);if(H!==void 0){s.delete(R),T.set(R,H);var G=P?P.next:b;It(r,P,H),It(r,H,G),Ma(H,G,n),P=H}else{var le=b?b.e.nodes_start:n;P=Wa(le,r,P,P===null?r.first:P.next,A,R,U,l,i,u)}T.set(R,P),re=[],d=[],b=P.next;continue}if(p&&Cn(L,A,U,i),L.e.f&St&&(hs(L.e),f&&((oe=L.a)==null||oe.unfix(),(W??(W=new Set)).delete(L))),L!==b){if(O!==void 0&&O.has(L)){if(re.length<d.length){var _e=d[0],ue;P=_e.prev;var x=re[0],K=re[re.length-1];for(ue=0;ue<re.length;ue+=1)Ma(re[ue],_e,n);for(ue=0;ue<d.length;ue+=1)O.delete(d[ue]);It(r,x.prev,K.next),It(r,P,x),It(r,K,_e),b=_e,P=K,U-=1,re=[],d=[]}else O.delete(L),Ma(L,b,n),It(r,L.prev,L.next),It(r,L,P===null?r.first:P.next),It(r,P,L),P=L;continue}for(re=[],d=[];b!==null&&b.k!==R;)b.e.f&St||(O??(O=new Set)).add(b),d.push(b),b=b.next;if(b===null)continue;L=b}re.push(L),P=L,b=L.next}if(b!==null||O!==void 0){for(var Q=O===void 0?[]:is(O);b!==null;)b.e.f&St||Q.push(b),b=b.next;var ie=Q.length;if(ie>0){var Ce=i&Xs&&k===0?n:null;if(f){for(U=0;U<ie;U+=1)(Ke=Q[U].a)==null||Ke.measure();for(U=0;U<ie;U+=1)(q=Q[U].a)==null||q.fix()}Ql(r,Q,Ce)}}f&&rn(()=>{var w;if(W!==void 0)for(L of W)(w=L.a)==null||w.apply()}),e.first=r.first&&r.first.e,e.last=P&&P.e;for(var ee of s.values())zt(ee.e);s.clear()}function Cn(e,t,r,s){s&Aa&&la(e.v,t),s&Ta?la(e.i,r):e.i=r}function Wa(e,t,r,s,n,l,i,v,u,f,p){var k=(u&Aa)!==0,T=(u&_l)===0,j=k?T?te(n,!1,!1):na(n):n,b=u&Ta?na(i):i,O={i:b,v:j,k:l,a:null,e:null,prev:r,next:s};try{if(e===null){var P=document.createDocumentFragment();P.append(e=qt())}return O.e=Gr(()=>v(e,j,b,f),je),O.e.prev=r&&r.e,O.e.next=s&&s.e,r===null?p||(t.first=O):(r.next=O,r.e.next=O.e),s!==null&&(s.prev=O,s.e.prev=O.e),O}finally{}}function Ma(e,t,r){for(var s=e.next?e.next.e.nodes_start:r,n=t?t.e.nodes_start:r,l=e.e.nodes_start;l!==null&&l!==s;){var i=Ht(l);n.before(l),l=i}}function It(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}const Ls=[...` 	
\r\fÂ \v\uFEFF`];function ti(e,t,r){var s=e==null?"":""+e;if(t&&(s=s?s+" "+t:t),r){for(var n in r)if(r[n])s=s?s+" "+n:n;else if(s.length)for(var l=n.length,i=0;(i=s.indexOf(n,i))>=0;){var v=i+l;(i===0||Ls.includes(s[i-1]))&&(v===s.length||Ls.includes(s[v]))?s=(i===0?"":s.substring(0,i))+s.substring(v+1):i=v}}return s===""?null:s}function ri(e,t){return e==null?null:String(e)}function ft(e,t,r,s,n,l){var i=e.__className;if(je||i!==r||i===void 0){var v=ti(r,s,l);(!je||v!==e.getAttribute("class"))&&(v==null?e.removeAttribute("class"):e.className=v),e.__className=r}else if(l&&n!==l)for(var u in l){var f=!!l[u];(n==null||f!==!!n[u])&&e.classList.toggle(u,f)}return l}function Lt(e,t,r,s){var n=e.__style;if(je||n!==t){var l=ri(t);(!je||l!==e.getAttribute("style"))&&(l==null?e.removeAttribute("style"):e.style.cssText=l),e.__style=t}return s}const ai=Symbol("is custom element"),si=Symbol("is html");function br(e){if(je){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var s=e.value;Ne(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var n=e.checked;Ne(e,"checked",null),e.checked=n}}};e.__on_r=r,Sl(r),un()}}function Ne(e,t,r,s){var n=ni(e);je&&(n[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||n[t]!==(n[t]=r)&&(t==="loading"&&(e[Yn]=r),r==null?e.removeAttribute(t):typeof r!="string"&&li(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function ni(e){return e.__attributes??(e.__attributes={[ai]:e.nodeName.includes("-"),[si]:e.namespaceURI===kl})}var Os=new Map;function li(e){var t=Os.get(e.nodeName);if(t)return t;Os.set(e.nodeName,t=[]);for(var r,s=e,n=Element.prototype;n!==s;){r=Fs(s);for(var l in r)r[l].set&&t.push(l);s=os(s)}return t}function Br(e,t,r=t){var s=Ur(),n=new WeakSet;fn(e,"input",l=>{var i=l?e.defaultValue:e.value;if(i=$a(e)?Ra(i):i,r(i),Oe!==null&&n.add(Oe),s&&i!==(i=t())){var v=e.selectionStart,u=e.selectionEnd;e.value=i??"",u!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(u,e.value.length))}}),(je&&e.defaultValue!==e.value||y(t)==null&&e.value)&&(r($a(e)?Ra(e.value):e.value),Oe!==null&&n.add(Oe)),Oa(()=>{var l=t();if(e===document.activeElement){var i=pa??Oe;if(n.has(i))return}$a(e)&&l===Ra(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function ii(e,t,r=t){fn(e,"change",s=>{var n=s?e.defaultChecked:e.checked;r(n)}),(je&&e.defaultChecked!==e.checked||y(t)==null)&&r(e.checked),Oa(()=>{var s=t();e.checked=!!s})}function $a(e){var t=e.type;return t==="number"||t==="range"}function Ra(e){return e===""?null:+e}function Wt(e=!1){const t=ze,r=t.l.u;if(!r)return;let s=()=>pt(t.s);if(e){let n=0,l={};const i=da(()=>{let v=!1;const u=t.s;for(const f in u)u[f]!==l[f]&&(l[f]=u[f],v=!0);return v&&n++,n});s=()=>a(i)}r.b.length&&$l(()=>{Ps(t,s),ta(r.b)}),Va(()=>{const n=y(()=>r.m.map(Zn));return()=>{for(const l of n)typeof l=="function"&&l()}}),r.a.length&&Va(()=>{Ps(t,s),ta(r.a)})}function Ps(e,t){if(e.l.s)for(const r of e.l.s)a(r);t()}function Kt(e,t,r){var s;e.$$events||(e.$$events={}),(s=e.$$events)[t]||(s[t]=[]),e.$$events[t].push(r)}function Jt(e){for(var t in e)t in this&&(this[t]=e[t])}function ps(e,t,r){if(e==null)return t(void 0),r&&r(void 0),sr;const s=y(()=>e.subscribe(t,r));return s.unsubscribe?()=>s.unsubscribe():s}const jr=[];function oi(e,t){return{subscribe:Nr(e,t).subscribe}}function Nr(e,t=sr){let r=null;const s=new Set;function n(v){if(Bs(e,v)&&(e=v,r)){const u=!jr.length;for(const f of s)f[1](),jr.push(f,e);if(u){for(let f=0;f<jr.length;f+=2)jr[f][0](jr[f+1]);jr.length=0}}}function l(v){n(v(e))}function i(v,u=sr){const f=[v,u];return s.add(f),s.size===1&&(r=t(n,l)||sr),v(e),()=>{s.delete(f),s.size===0&&r&&(r(),r=null)}}return{set:n,update:l,subscribe:i}}function vi(e,t,r){const s=!Array.isArray(e),n=s?[e]:e;if(!n.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=t.length<2;return oi(r,(i,v)=>{let u=!1;const f=[];let p=0,k=sr;const T=()=>{if(p)return;k();const b=t(s?f[0]:f,i,v);l?i(b):k=typeof b=="function"?b:sr},j=n.map((b,O)=>ps(b,P=>{f[O]=P,p&=~(1<<O),u&&T()},()=>{p|=1<<O}));return u=!0,T(),function(){ta(j),k(),u=!1}})}function ya(e){let t;return ps(e,r=>t=r)(),t}let ha=!1,Ka=Symbol();function Bt(e,t,r){const s=r[t]??(r[t]={store:null,source:te(void 0),unsubscribe:sr});if(s.store!==e&&!(Ka in r))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=sr;else{var n=!0;s.unsubscribe=ps(e,l=>{n?s.source.v=l:m(s.source,l)}),n=!1}return e&&Ka in r?ya(e):a(s.source)}function Pa(){const e={};function t(){bn(()=>{for(var r in e)e[r].unsubscribe();ea(e,Ka,{enumerable:!1,value:!0})})}return[e,t]}function ci(e){var t=ha;try{return ha=!1,[e(),ha]}finally{ha=t}}function Dt(e,t,r,s){var d;var n=!zr||(r&pl)!==0,l=(r&gl)!==0,i=(r&yl)!==0,v=s,u=!0,f=()=>(u&&(u=!1,v=i?y(s):s),v),p;if(l){var k=Ir in e||$s in e;p=((d=Lr(e,t))==null?void 0:d.set)??(k&&t in e?A=>e[t]=A:void 0)}var T,j=!1;l?[T,j]=ci(()=>e[t]):T=e[t],T===void 0&&s!==void 0&&(T=f(),p&&(n&&il(),p(T)));var b;if(n?b=()=>{var A=e[t];return A===void 0?f():(u=!0,A)}:b=()=>{var A=e[t];return A!==void 0&&(v=void 0),A===void 0?v:A},n&&!(r&ml))return b;if(p){var O=e.$$legacy;return function(A,R){return arguments.length>0?((!n||!R||O||j)&&p(R?b():A),A):b()}}var P=!1,W=(r&hl?da:_r)(()=>(P=!1,b()));l&&a(W);var re=be;return function(A,R){if(arguments.length>0){const L=R?a(W):n&&l?Cr(A):A;return m(W,L),P=!0,v!==void 0&&(v=L),A}return Er&&P||re.f&kr?W.v:a(W)}}const Ja=Nr("Citizen"),Za=Nr({job:"",gang:"",onDuty:!1}),Fa=Nr([]),Pt=Nr([]),Qt=Nr([]),qr=Nr(6);vi(Pt,e=>new Set(e.map(t=>t.name)));var ui=S('<div class="statusbar svelte-iayczc"><div class="time svelte-iayczc"> </div> <div class="sb-right svelte-iayczc"><button class="pill1">Devices</button> <button class="pill1"><span class="avatar svelte-iayczc" aria-hidden="true"> </span> Profile</button> <button class="pill2 pill--ghost" aria-label="Close">Ã—</button></div></div>');function In(e,t){if(new.target)return Yt({component:In,...e});$t(t,!1);const[r,s]=Pa(),n=()=>Bt(Ja,"$playerName",r),l=()=>Bt(Za,"$playerState",r),i=te(),v=te();let u=Dt(t,"onDevices",12,()=>{}),f=Dt(t,"onClose",12,()=>{}),p=Dt(t,"onProfile",12,()=>{}),k=new Date;const j=setInterval(()=>k=new Date,1e3);Xr(()=>clearInterval(j));const b=()=>k.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});mt(()=>n(),()=>{var G;m(i,(G=n()||"C")==null?void 0:G.split(" ").map(le=>le[0]).slice(0,2).join("").toUpperCase())}),mt(()=>l(),()=>{var G;m(v,(G=l())!=null&&G.onDuty?"On Duty":"Off Duty")}),xr(),Wt();var O=ui(),P=c(O),W=c(P,!0);o(P);var re=h(P,2),d=c(re),A=h(d,2),R=c(A),L=c(R,!0);o(R),Nt(),o(A);var U=h(A,2);o(re),o(O),ne(G=>{X(W,G),X(L,a(i))},[()=>y(b)]),ae("click",d,function(...G){var le;(le=u())==null||le.apply(this,G)}),ae("click",A,function(...G){var le;(le=p())==null||le.apply(this,G)}),ae("click",U,function(...G){var le;(le=f())==null||le.apply(this,G)}),g(e,O);var H=Rt({get onDevices(){return u()},set onDevices(G){u(G),At()},get onClose(){return f()},set onClose(G){f(G),At()},get onProfile(){return p()},set onProfile(G){p(G),At()},$set:Jt,$on:(G,le)=>Kt(t,G,le)});return s(),H}const Ln=(e,t={})=>fetch(`https://${GetParentResourceName()}/${e}`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t),cache:"no-store"}),dt=async(e,t={})=>{const r=await Ln(e,t);if(!r.ok){const n=await r.text().catch(()=>"");throw new Error(`NUI ${e} failed: ${r.status} ${n}`)}const s=await r.text().catch(()=>"");if(!s)return{};try{return JSON.parse(s)}catch{return{}}},ba=Ln;function fi(e){window.addEventListener("message",t=>e(t.data||{}))}async function On(){return dt("getStash",{})}var di=S('<div role="button" tabindex="0"><div class="icon-wrap svelte-1mwga6f"><div class="icon-bg svelte-1mwga6f"></div> <img class="svelte-1mwga6f"/></div> <div class="label svelte-1mwga6f"> </div></div>'),_i=S('<div class="empty svelte-1mwga6f"><div class="empty__icon svelte-1mwga6f">ðŸ“±</div> <div class="empty__text svelte-1mwga6f">No apps yet<br/><small class="svelte-1mwga6f">Apps will appear when configured</small></div></div>'),hi=S('<div class="apps-grid svelte-1mwga6f"><!> <!></div>');function Pn(e,t){if(new.target)return Yt({component:Pn,...e});$t(t,!1);const[r,s]=Pa(),n=()=>Bt(Pt,"$attached",r),l=te();let i=Dt(t,"apps",28,()=>[]),v=Dt(t,"playerName",12,""),u=Dt(t,"playerState",28,()=>({}));function f(d){var R,L;const A=((R=d==null?void 0:d.require)==null?void 0:R.openItems)||((L=d==null?void 0:d.require)==null?void 0:L.items)||[];return!Array.isArray(A)||!A.length?!1:A.some(U=>!a(l).has(U))}const p="https://images.dz-crew.com/tablet/icons/Encrypted-App.png",k="Encrypted";async function T(d){var A,R,L,U;if(!f(d))try{((A=d.action)==null?void 0:A.type)==="client_event"&&((R=d.action)!=null&&R.name)?await ba("triggerClientEvent",{eventName:d.action.name,appId:d.id}):((L=d.action)==null?void 0:L.type)==="server_event"&&((U=d.action)!=null&&U.name)?await ba("triggerServerEvent",{eventName:d.action.name,appId:d.id}):await ba("openApp",{appId:d.id,appName:d.name})}catch(H){console.error("[AppsGrid] openApp failed:",H)}}async function j(){try{const d=await On();Pt.set((d==null?void 0:d.attached)||[]),Qt.set((d==null?void 0:d.inventory)||[]),qr.set((d==null?void 0:d.slots)??6)}catch{}}j(),mt(()=>n(),()=>{m(l,new Set((n()||[]).map(d=>d==null?void 0:d.name)))}),xr(),Wt();var b=hi(),O=c(b);We(O,1,i,d=>d.id,(d,A)=>{var R=$e(),L=xe(R);{var U=H=>{var G=di(),le=c(G),_e=h(c(le),2);o(le);var ue=h(le,2),x=c(ue,!0);o(ue),o(G),ne((K,Q,ie,Ce)=>{ft(G,1,`tile ${K??""}`,"svelte-1mwga6f"),Ne(G,"aria-label",`Open ${a(A),y(()=>a(A).name)??""}`),Ne(_e,"src",Q),Ne(_e,"alt",ie),X(x,Ce)},[()=>(a(A),y(()=>f(a(A))?"tile--locked":"")),()=>(a(A),y(()=>f(a(A))?p:a(A).icon)),()=>(a(A),y(()=>f(a(A))?"Locked App":a(A).name)),()=>(a(A),y(()=>f(a(A))?k:a(A).name))]),ae("error",_e,K=>{K.target.src=p,K.target.style.opacity="0.95"}),ae("click",G,()=>T(a(A))),ae("keydown",G,K=>K.key==="Enter"&&T(a(A))),g(H,G)};Y(L,H=>{a(A)&&H(U)})}g(d,R)});var P=h(O,2);{var W=d=>{var A=_i();g(d,A)};Y(P,d=>{pt(i()),y(()=>{var A;return!((A=i())!=null&&A.length)})&&d(W)})}o(b),g(e,b);var re=Rt({get apps(){return i()},set apps(d){i(d),At()},get playerName(){return v()},set playerName(d){v(d),At()},get playerState(){return u()},set playerState(d){u(d),At()},$set:Jt,$on:(d,A)=>Kt(t,d,A)});return s(),re}var pi=S('<button class="chip svelte-12sqcp9"><img class="svelte-12sqcp9"/></button>'),mi=S('<div class="chip chip--preview svelte-12sqcp9"><img alt="preview" class="svelte-12sqcp9"/></div>'),gi=S('<div class="placeholder svelte-12sqcp9"><span class="plus svelte-12sqcp9">+</span></div>'),yi=S('<div><div class="bay svelte-12sqcp9"><div class="bay__bezel svelte-12sqcp9"></div> <div class="bay__depth svelte-12sqcp9"></div> <div class="bay__screws svelte-12sqcp9"><span class="svelte-12sqcp9"></span><span class="svelte-12sqcp9"></span><span class="svelte-12sqcp9"></span><span class="svelte-12sqcp9"></span></div> <!></div></div>'),bi=S('<button class="chip chip--inv svelte-12sqcp9"><img class="svelte-12sqcp9"/></button>'),wi=S('<div class="chip chip--inv chip--preview svelte-12sqcp9"><img alt="preview" class="svelte-12sqcp9"/></div>'),ki=S('<div class="inv-placeholder svelte-12sqcp9">LOCKED</div>'),Ei=S("<div><!></div>"),xi=S('<section class="panel svelte-12sqcp9"><header class="panel__header svelte-12sqcp9"><h2 class="panel__title svelte-12sqcp9">SECURE SOCKETS (ATTACHED)</h2> <div class="panel__meta svelte-12sqcp9"> </div></header> <div class="slots svelte-12sqcp9"></div></section> <section class="panel inventory-panel svelte-12sqcp9"><header class="panel__header svelte-12sqcp9"><h2 class="panel__title svelte-12sqcp9">ENCRYPTED MODULES (INVENTORY)</h2> <div class="panel__meta svelte-12sqcp9"> </div></header> <div class="inv-grid svelte-12sqcp9"></div></section>',1);function Dn(e,t){if(new.target)return Yt({component:Dn,...e});$t(t,!1);const[r,s]=Pa(),n=()=>Bt(qr,"$slots",r),l=()=>Bt(Pt,"$attached",r),i=()=>Bt(Qt,"$inventory",r),v=te(),u=te();let f=te(!1),p=te(null),k=te(null),T=null;const j={x:8,y:8};async function b(){try{const q=await dt("getStash",{});Pt.set(q.attached||[]),Qt.set(q.inventory||[]),qr.set(q.slots??6)}catch(q){console.error(q)}}ir(b);async function O(q,w){await dt("attachItem",{name:q,slot:w})}async function P(q,w){await dt("detachItem",{name:q,slot:w})}function W(q,w){const _=[...q];for(;_.length<w;)_.push(null);return _}function re(q,w){const _=[...q],E=_.findIndex(ve=>ve&&ve.name===w);if(E!==-1){const[ve]=_.splice(E,1);return{copy:_,removed:ve}}return{copy:_,removed:null}}function d(q){return q.touches&&q.touches[0]?{x:q.touches[0].clientX,y:q.touches[0].clientY}:{x:q.clientX,y:q.clientY}}function A(q){const w=q.getBoundingClientRect(),_=document.createElement("img");_.className="ghost-img",_.src=q.src,_.alt=q.alt||"",_.style.width=w.width+"px",_.style.height=w.height+"px",document.body.appendChild(_),T=_}function R(q){if(!T)return;const w=d(q);T.style.transform=`translate(${w.x+j.x}px, ${w.y+j.y}px)`}function L(){T&&(T.remove(),T=null)}function U(q,w,_){q.preventDefault();const E=q.currentTarget.querySelector("img");E&&(A(E),m(f,!0),m(p,{item:w,source:_}),R(q),window.addEventListener("mousemove",R,{passive:!1}),window.addEventListener("touchmove",R,{passive:!1}),window.addEventListener("mouseup",G,{passive:!1}),window.addEventListener("touchend",G,{passive:!1}))}function H(q,w){a(f)&&m(k,{zone:q,index:w})}async function G(){if(L(),window.removeEventListener("mousemove",R),window.removeEventListener("touchmove",R),window.removeEventListener("mouseup",G),window.removeEventListener("touchend",G),!a(f)||!a(p)||!a(k)){m(f,!1),m(p,null),m(k,null);return}const{item:q,source:w}=a(p),{zone:_,index:E}=a(k),ve=ya(qr)||6;let Ee=W(ya(Pt),ve),C=[...ya(Qt)];try{if(_==="attached"&&w==="inventory"){({copy:C}=re(C,q.name));const I=Ee[E]||null;Ee[E]=q,I&&C.push(I),Pt.set(Ee),Qt.set(C),await O(q.name,E)}else if(_==="inventory"&&w==="attached"){const I=Ee.findIndex(N=>N&&N.name===q.name);I!==-1&&(Ee[I]=null),C.push(q),Pt.set(Ee),Qt.set(C),await P(q.name,E)}await b()}catch(I){console.error(I),await b()}finally{m(f,!1),m(p,null),m(k,null)}}mt(()=>(n(),l()),()=>{m(v,Array.from({length:n()},(q,w)=>l()[w]||null))}),mt(()=>i(),()=>{m(u,Array.from({length:Math.max(12,i().length,12)},(q,w)=>i()[w]||null))}),xr(),Wt();var le=xi(),_e=xe(le),ue=c(_e),x=h(c(ue),2),K=c(x);o(x),o(ue);var Q=h(ue,2);We(Q,5,()=>a(v),st,(q,w,_)=>{var E=yi(),ve=c(E),Ee=h(c(ve),6);{var C=N=>{var F=pi(),M=c(F);o(F),ne(()=>{Ne(F,"title",(a(w),y(()=>a(w).name))),Ne(M,"src",(a(w),y(()=>a(w).icon))),Ne(M,"alt",(a(w),y(()=>a(w).name)))}),ae("mousedown",F,D=>U(D,a(w),"attached")),ae("touchstart",F,D=>U(D,a(w),"attached")),g(N,F)},I=N=>{var F=$e(),M=xe(F);{var D=Z=>{var B=mi(),he=c(B);o(B),ne(()=>Ne(he,"src",(a(p),y(()=>{var fe,pe;return(pe=(fe=a(p))==null?void 0:fe.item)==null?void 0:pe.icon})))),g(Z,B)},J=Z=>{var B=gi();g(Z,B)};Y(M,Z=>{a(f),a(k),y(()=>{var B,he;return a(f)&&((B=a(k))==null?void 0:B.zone)==="attached"&&((he=a(k))==null?void 0:he.index)===_})?Z(D):Z(J,!1)})}g(N,F)};Y(Ee,N=>{a(w)?N(C):N(I,!1)})}o(ve),o(E),ne(()=>ft(E,1,`slot ${a(w)?"slot--filled":"slot--empty"} ${a(f),a(k),y(()=>{var N,F;return a(f)&&((N=a(k))==null?void 0:N.zone)==="attached"&&((F=a(k))==null?void 0:F.index)===_?"slot--hover":""})??""}`,"svelte-12sqcp9")),ae("mouseenter",E,()=>H("attached",_)),g(q,E)}),o(Q),o(_e);var ie=h(_e,2),Ce=c(ie),ee=h(c(Ce),2),z=c(ee,!0);o(ee),o(Ce);var oe=h(Ce,2);We(oe,5,()=>a(u),st,(q,w,_)=>{var E=Ei(),ve=c(E);{var Ee=I=>{var N=bi(),F=c(N);o(N),ne(()=>{Ne(N,"title",(a(w),y(()=>a(w).name))),Ne(F,"src",(a(w),y(()=>a(w).icon))),Ne(F,"alt",(a(w),y(()=>a(w).name)))}),ae("mousedown",N,M=>U(M,a(w),"inventory")),ae("touchstart",N,M=>U(M,a(w),"inventory")),g(I,N)},C=I=>{var N=$e(),F=xe(N);{var M=J=>{var Z=wi(),B=c(Z);o(Z),ne(()=>Ne(B,"src",(a(p),y(()=>{var he,fe;return(fe=(he=a(p))==null?void 0:he.item)==null?void 0:fe.icon})))),g(J,Z)},D=J=>{var Z=ki();g(J,Z)};Y(F,J=>{a(f),a(k),y(()=>{var Z,B;return a(f)&&((Z=a(k))==null?void 0:Z.zone)==="inventory"&&((B=a(k))==null?void 0:B.index)===_})?J(M):J(D,!1)})}g(I,N)};Y(ve,I=>{a(w)?I(Ee):I(C,!1)})}o(E),ne(()=>ft(E,1,`inv-tile ${a(w)?"inv-tile--filled":"inv-tile--empty"} ${a(f),a(k),y(()=>{var I,N;return a(f)&&((I=a(k))==null?void 0:I.zone)==="inventory"&&((N=a(k))==null?void 0:N.index)===_?"inv-tile--hover":""})??""}`,"svelte-12sqcp9")),ae("mouseenter",E,()=>H("inventory",_)),g(q,E)}),o(oe),o(ie),ne(()=>{X(K,`${l(),y(()=>l().length)??""} / ${n()??""}`),X(z,(i(),y(()=>i().length)))}),g(e,le);var Ke=Rt({$set:Jt,$on:(q,w)=>Kt(t,q,w)});return s(),Ke}var Ni=S('<div class="muted">Loading XPâ€¦</div>'),Si=S('<div class="muted"> </div>'),Ai=S('<span class="seg svelte-1wur7nc"><span class="fill svelte-1wur7nc"></span></span>'),Ti=S('<article class="skill svelte-1wur7nc"><header class="skill-top svelte-1wur7nc"><div class="label svelte-1wur7nc"> </div> <div class="lvl svelte-1wur7nc"> </div></header> <div class="segbar svelte-1wur7nc"></div> <footer class="meta-row svelte-1wur7nc"><span class="mchip svelte-1wur7nc"> </span> <span class="mchip svelte-1wur7nc"> </span> <span class="mchip strong svelte-1wur7nc"> </span></footer></article>'),ji=S('<div class="skills-grid svelte-1wur7nc"></div>'),Ci=S('<section class="mini-header svelte-1wur7nc"><div class="ava svelte-1wur7nc"> </div> <div class="meta"><div class="h-name svelte-1wur7nc"> </div> <div class="h-tags svelte-1wur7nc"><span class="tag svelte-1wur7nc"> </span> <span> </span> <span class="tag svelte-1wur7nc"> </span></div></div></section> <h4 class="section-title svelte-1wur7nc">Identity</h4> <section class="stats svelte-1wur7nc"><div class="stat svelte-1wur7nc"><div class="k svelte-1wur7nc">Citizen ID</div> <div class="v svelte-1wur7nc"> </div></div> <div class="stat svelte-1wur7nc"><div class="k svelte-1wur7nc">Cash</div> <div class="v svelte-1wur7nc"> </div></div> <div class="stat svelte-1wur7nc"><div class="k svelte-1wur7nc">Bank</div> <div class="v emph svelte-1wur7nc"> </div></div></section> <h4 class="section-title svelte-1wur7nc">Skills &amp; XP</h4> <section class="xp-wrap svelte-1wur7nc"><div class="xp-head svelte-1wur7nc"><button class="btn svelte-1wur7nc" aria-label="Refresh">â†» Refresh</button></div> <!></section>',1);function qn(e,t){if(new.target)return Yt({component:qn,...e});$t(t,!1);const r=te();let s=Dt(t,"playerName",12,"Citizen"),n=Dt(t,"playerState",28,()=>({}));const l=C=>"$"+Number(C||0).toLocaleString(),i=12;function v(C,I,N=i){if(!I||I<=0)return Array.from({length:N},()=>0);const M=Math.max(0,Math.min(1,C/I))*N,D=Math.floor(M),J=M-D;return Array.from({length:N},(Z,B)=>B<D?1:B===D?J:0)}let u=te([]),f=te(!0),p=te("");function k(C){C&&typeof C=="object"&&"data"in C&&(C=C.data);const I=(N,F,M=0)=>{const D=(F==null?void 0:F.label)||N||`Category ${M+1}`,J=Number((F==null?void 0:F.xp)||0),Z=Number((F==null?void 0:F.level)||0),B=Math.max(1,Number((F==null?void 0:F.level_xp)||1)),he=J%B,fe=Math.max(0,Math.min(100,Math.floor(he/B*100))),pe=v(he,B,i);return{key:N&&N!==""?N:D||`cat_${M+1}`,label:D,xp:J,lvl:Z,need:B,cur:he,pct:fe,seg:pe}};return Array.isArray(C)?C.map((N,F)=>I((N==null?void 0:N.key)||(N==null?void 0:N.label),N,F)):C&&typeof C=="object"?Object.entries(C).map(([N,F],M)=>I(N,F,M)):[]}async function T(){m(f,!0),m(p,"");try{const C=await dt("getXPData",{}),I=k(C);I.sort((N,F)=>(F.xp||0)-(N.xp||0)),m(u,I),I.length||m(p,"No XP categories.")}catch(C){console.error("[Profile] getXPData error:",C),m(p,"Failed to load XP data")}finally{m(f,!1)}}ir(T);const j=C=>{const I=k(C.detail||{});I.sort((N,F)=>(F.xp||0)-(N.xp||0)),m(u,I)};typeof window<"u"&&window.addEventListener("tablet:xp:update",j),Xr(()=>{typeof window<"u"&&window.removeEventListener("tablet:xp:update",j)}),mt(()=>pt(s()),()=>{m(r,(s()||"C").split(" ").map(C=>C[0]).slice(0,2).join("").toUpperCase())}),xr(),Wt();var b=Ci(),O=xe(b),P=c(O),W=c(P,!0);o(P);var re=h(P,2),d=c(re),A=c(d,!0);o(d);var R=h(d,2),L=c(R),U=c(L,!0);o(L);var H=h(L,2),G=c(H,!0);o(H);var le=h(H,2),_e=c(le,!0);o(le),o(R),o(re),o(O);var ue=h(O,4),x=c(ue),K=h(c(x),2),Q=c(K);o(K),o(x);var ie=h(x,2),Ce=h(c(ie),2),ee=c(Ce,!0);o(Ce),o(ie);var z=h(ie,2),oe=h(c(z),2),Ke=c(oe,!0);o(oe),o(z),o(ue);var q=h(ue,4),w=c(q),_=c(w);o(w);var E=h(w,2);{var ve=C=>{var I=Ni();g(C,I)},Ee=C=>{var I=$e(),N=xe(I);{var F=D=>{var J=Si(),Z=c(J,!0);o(J),ne(()=>X(Z,a(p))),g(D,J)},M=D=>{var J=ji();We(J,5,()=>a(u),Z=>Z.key,(Z,B)=>{var he=Ti(),fe=c(he),pe=c(fe),me=c(pe,!0);o(pe);var we=h(pe,2),Pe=c(we);o(we),o(fe);var ge=h(fe,2);Lt(ge,"--n:12"),We(ge,5,()=>(a(B),y(()=>a(B).seg)),st,(Ge,Le)=>{var $=Ai(),Re=c($);o($),ne(()=>Lt(Re,`--f:${a(Le)??""}`)),g(Ge,$)}),o(ge);var Ie=h(ge,2),Se=c(Ie),Ae=c(Se);o(Se);var de=h(Se,2),Ue=c(de);o(de);var ye=h(de,2),qe=c(ye);o(ye),o(Ie),o(he),ne((Ge,Le,$)=>{Ne(pe,"title",(a(B),y(()=>a(B).label))),X(me,(a(B),y(()=>a(B).label))),X(Pe,`Lv ${a(B),y(()=>a(B).lvl)??""}`),X(Ae,`${Ge??""} / ${Le??""} XP`),X(Ue,`${a(B),y(()=>a(B).pct)??""}%`),X(qe,`${$??""} XP`)},[()=>(a(B),y(()=>a(B).cur.toLocaleString())),()=>(a(B),y(()=>a(B).need.toLocaleString())),()=>(a(B),y(()=>a(B).xp.toLocaleString()))]),g(Z,he)}),o(J),g(D,J)};Y(N,D=>{a(p)?D(F):D(M,!1)},!0)}g(C,I)};Y(E,C=>{a(f)?C(ve):C(Ee,!1)})}return o(q),ne((C,I)=>{Ne(P,"title",s()),X(W,a(r)),X(A,s()),X(U,(pt(n()),y(()=>{var N;return((N=n())==null?void 0:N.job)||"Unemployed"}))),ft(H,1,`tag ${pt(n()),y(()=>{var N;return(N=n())!=null&&N.onDuty?"ok":"warn"})??""}`,"svelte-1wur7nc"),X(G,(pt(n()),y(()=>{var N;return(N=n())!=null&&N.onDuty?"On Duty":"Off Duty"}))),X(_e,(pt(n()),y(()=>{var N;return((N=n())==null?void 0:N.gang)||"No Gang"}))),X(Q,`#${pt(n()),y(()=>{var N;return((N=n())==null?void 0:N.id)??"â€”"})??""}`),X(ee,C),X(Ke,I)},[()=>(pt(n()),y(()=>{var C;return l((C=n())==null?void 0:C.money)})),()=>(pt(n()),y(()=>{var C;return l((C=n())==null?void 0:C.bank)}))]),ae("click",_,T),g(e,b),Rt({get playerName(){return s()},set playerName(C){s(C),At()},get playerState(){return n()},set playerState(C){n(C),At()},$set:Jt,$on:(C,I)=>Kt(t,C,I)})}var Ii=S('<div class="muted svelte-9le245">Loadingâ€¦</div>'),Li=S('<div class="muted svelte-9le245"> </div>'),Oi=S('<div class="muted svelte-9le245">No rules found.</div>'),Pi=S('<div class="rule-card svelte-9le245"><div class="rule-head svelte-9le245"><span class="r-num svelte-9le245"></span> <h3 class="r-title svelte-9le245"> </h3></div> <div class="rule-body svelte-9le245"><p class="r-text svelte-9le245"> </p></div></div>'),Di=S('<div class="rule-grid svelte-9le245"></div>'),qi=S('<section class="rules svelte-9le245"><div class="rules-toolbar svelte-9le245"><input class="rules-search svelte-9le245" type="text" placeholder="Search rulesâ€¦" aria-label="Search rules"/> <div class="rules-count svelte-9le245"> </div></div> <!></section>'),Mi=S('<div class="muted svelte-9le245">No active operations.</div>'),$i=S('<div class="muted small svelte-9le245">No members</div>'),Ri=S('<li class="member svelte-9le245"><div class="avatar svelte-9le245"> </div> <div class="m-meta svelte-9le245"><div class="m-name svelte-9le245"> </div> <div class="m-sub svelte-9le245"> </div></div> <span class="m-state svelte-9le245"><span class="dot dot--ok svelte-9le245"></span>Online</span></li>'),Fi=S('<ul class="member-list svelte-9le245"></ul>'),Gi=S('<button class="btn-ghost svelte-9le245" disabled>Joined</button> <button class="btn-danger svelte-9le245">âŸ² Leave Operation</button>',1),Bi=S('<button class="btn-success svelte-9le245">ï¼‹ Join Operation</button>'),zi=S('<article><div class="op-head svelte-9le245"><div class="op-title svelte-9le245"><img class="op-icon svelte-9le245" src="https://images.dz-crew.com/tablet/icons/rb_2401.png" alt="op"/> <div><h3 class="svelte-9le245"> </h3> <div class="op-sub svelte-9le245"><span class="dot dot--ok svelte-9le245"></span> <span> </span></div></div></div> <div class="op-stat svelte-9le245"><div class="op-count svelte-9le245"> <!></div> <div class="op-count-label svelte-9le245">Members</div></div></div> <div class="op-body svelte-9le245"><!></div> <div class="op-foot svelte-9le245"><!></div></article>'),Ui=S('<div class="ops-grid svelte-9le245"><!></div>'),Xi=S('<section class="police svelte-9le245"><header class="p-header svelte-9le245"><div class="h-left svelte-9le245"><img class="h-icon svelte-9le245" src="https://images.dz-crew.com/tablet/icons/rb_2401.png" alt="Police"/> <div class="h-titles"><h2 class="title svelte-9le245">Police App</h2> <p class="sub svelte-9le245">Standard procedures & active operations</p></div></div> <nav class="tabs svelte-9le245"><button>Rules</button> <button>Operations</button></nav></header> <div class="content svelte-9le245"><!></div></section>');function Mn(e,t){if(new.target)return Yt({component:Mn,...e});$t(t,!1);const r=te();let s=Dt(t,"playerName",12,""),n=Dt(t,"playerId",12),l=te("rules"),i=te([]),v=te([]),u=te(!1),f=te(""),p=te("");const k=x=>String(x||"").trim().toLowerCase();function T(x){const K=n();console.log("Checking member:",x,"for player ID:",K);const Q=Number((x==null?void 0:x.id)??(x==null?void 0:x.source)??0);return K&&Q&&K===Q?!0:k(x==null?void 0:x.name)===k(s())}function j(x){var Ce;const K=Array.isArray(x==null?void 0:x.members)?x.members:[],Q=Number((x==null?void 0:x.max)||0),ie=(x==null?void 0:x.channel)??((Ce=x==null?void 0:x.meta)==null?void 0:Ce.channel)??0;return{name:(x==null?void 0:x.name)||"Operation",channel:ie,max:Number.isFinite(Q)&&Q>0?Q:0,members:K.map(ee=>({id:Number((ee==null?void 0:ee.id)??(ee==null?void 0:ee.source)??(ee==null?void 0:ee.playerId)??(ee==null?void 0:ee.cid)??(ee==null?void 0:ee.citizenid)??0),name:(ee==null?void 0:ee.name)||(ee==null?void 0:ee.label)||"Unknown",rank:(ee==null?void 0:ee.rank)||"Officer"}))}}async function b(){var x,K;m(u,!0),m(f,"");try{const Q=await dt("police:getRules",{});let ie=Array.isArray(Q==null?void 0:Q.items)?Q.items:[];!ie.length&&((K=(x=import.meta)==null?void 0:x.env)!=null&&K.DEV)&&(ie=[{title:"Use of Force",body:"Apply minimal force necessary."},{title:"Evidence Handling",body:"Store in evidence locker."}]),m(i,ie)}catch{m(f,"Failed to load rules.")}finally{m(u,!1)}}async function O(){var x,K;m(u,!0),m(f,"");try{const Q=await dt("getOperations",{});let ie=Array.isArray(Q==null?void 0:Q.operations)?Q.operations.map(j):[];!ie.length&&((K=(x=import.meta)==null?void 0:x.env)!=null&&K.DEV)&&(ie=[{name:"operation1",channel:1,max:7,members:[{id:7,name:s()||"Mr Orkoda",rank:"AOP"}]}]),m(v,ie)}catch{m(f,"Failed to load operations.")}finally{m(u,!1)}}async function P(x){if(x!=null&&x.name){try{await dt("joinOperationFromTablet",{name:x.name})}catch{}setTimeout(O,180)}}async function W(x){try{await dt("leaveOperation",{opName:x})}catch{}setTimeout(O,180)}function re(x){a(l)!==x&&(m(l,x),a(l)==="rules"&&!a(i).length&&b(),a(l)==="ops"&&!a(v).length&&O())}function d(){O()}ir(()=>{re("rules"),typeof window<"u"&&window.addEventListener("police:ops:refresh",d)}),Xr(()=>{typeof window<"u"&&window.removeEventListener("police:ops:refresh",d)}),b(),mt(()=>(a(i),a(p)),()=>{m(r,(a(i)||[]).filter(x=>{const K=String((x==null?void 0:x.title)||"").toLowerCase(),Q=String((x==null?void 0:x.body)||"").toLowerCase(),ie=a(p).toLowerCase().trim();return!ie||K.includes(ie)||Q.includes(ie)}))}),xr(),Wt();var A=Xi(),R=c(A),L=h(c(R),2),U=c(L),H=h(U,2);o(L),o(R);var G=h(R,2),le=c(G);{var _e=x=>{var K=Ii();g(x,K)},ue=x=>{var K=$e(),Q=xe(K);{var ie=ee=>{var z=Li(),oe=c(z,!0);o(z),ne(()=>X(oe,a(f))),g(ee,z)},Ce=ee=>{var z=$e(),oe=xe(z);{var Ke=w=>{var _=qi(),E=c(_),ve=c(E);br(ve);var Ee=h(ve,2),C=c(Ee);o(Ee),o(E);var I=h(E,2);{var N=M=>{var D=Oi();g(M,D)},F=M=>{var D=Di();We(D,5,()=>a(r),st,(J,Z,B)=>{var he=Pi(),fe=c(he),pe=c(fe);pe.textContent=B+1;var me=h(pe,2),we=c(me,!0);o(me),o(fe);var Pe=h(fe,2),ge=c(Pe),Ie=c(ge,!0);o(ge),o(Pe),o(he),ne(()=>{X(we,(a(Z),y(()=>{var Se;return((Se=a(Z))==null?void 0:Se.title)||"Untitled rule"}))),X(Ie,(a(Z),y(()=>{var Se;return((Se=a(Z))==null?void 0:Se.body)||""})))}),g(J,he)}),o(D),g(M,D)};Y(I,M=>{a(r),y(()=>!a(r).length)?M(N):M(F,!1)})}o(_),ne(()=>X(C,`${a(r),y(()=>a(r).length)??""} / ${a(i),y(()=>a(i).length||0)??""}`)),Br(ve,()=>a(p),M=>m(p,M)),g(w,_)},q=w=>{var _=Ui(),E=c(_);{var ve=C=>{var I=Mi();g(C,I)},Ee=C=>{var I=$e(),N=xe(I);We(N,1,()=>a(v),st,(F,M)=>{const D=_r(()=>(a(M),y(()=>{var se;return Array.isArray((se=a(M))==null?void 0:se.members)?a(M).members:[]}))),J=_r(()=>(pt(a(D)),y(()=>a(D).length))),Z=_r(()=>(pt(a(D)),y(()=>a(D).some(T))));var B=zi(),he=c(B),fe=c(he),pe=h(c(fe),2),me=c(pe),we=c(me,!0);o(me);var Pe=h(me,2),ge=h(c(Pe),2),Ie=c(ge);o(ge),o(Pe),o(pe),o(fe);var Se=h(fe,2),Ae=c(Se),de=c(Ae,!0),Ue=h(de);{var ye=se=>{var Xe=Zr();ne(()=>X(Xe,`/ ${a(M),y(()=>a(M).max)??""}`)),g(se,Xe)};Y(Ue,se=>{a(M),y(()=>a(M).max)&&se(ye)})}o(Ae),Nt(2),o(Se),o(he);var qe=h(he,2),Ge=c(qe);{var Le=se=>{var Xe=$i();g(se,Xe)},$=se=>{var Xe=Fi();We(Xe,5,()=>a(D),st,(xt,He)=>{var Ze=Ri(),Ve=c(Ze),_t=c(Ve,!0);o(Ve);var Sr=h(Ve,2),jt=c(Sr),Hr=c(jt,!0);o(jt);var Ar=h(jt,2),Vr=c(Ar,!0);o(Ar),o(Sr),Nt(2),o(Ze),ne(Fe=>{X(_t,Fe),Ne(jt,"title",(a(He),y(()=>{var Me;return((Me=a(He))==null?void 0:Me.name)||"Unknown"}))),X(Hr,(a(He),y(()=>{var Me;return((Me=a(He))==null?void 0:Me.name)||"Unknown"}))),X(Vr,(a(He),y(()=>{var Me;return((Me=a(He))==null?void 0:Me.rank)||"Officer"})))},[()=>(a(He),y(()=>{var Fe;return(((Fe=a(He))==null?void 0:Fe.name)||"U").slice(0,2).toUpperCase()}))]),g(xt,Ze)}),o(Xe),g(se,Xe)};Y(Ge,se=>{a(J)?se($,!1):se(Le)})}o(qe);var Re=h(qe,2),Je=c(Re);{var Qe=se=>{var Xe=Gi(),xt=h(xe(Xe),2);ae("click",xt,()=>W(a(M).name)),g(se,Xe)},V=se=>{var Xe=Bi();ae("click",Xe,()=>P(a(M))),g(se,Xe)};Y(Je,se=>{a(Z)?se(Qe):se(V,!1)})}o(Re),o(B),ne(()=>{ft(B,1,`opcard ${a(Z)?"is-joined":""} ${a(M),pt(a(J)),y(()=>a(M).max&&a(J)>a(M).max?"is-over":"")??""}`,"svelte-9le245"),Ne(me,"title",(a(M),y(()=>{var se;return((se=a(M))==null?void 0:se.name)||"Operation"}))),X(we,(a(M),y(()=>{var se;return((se=a(M))==null?void 0:se.name)||"Operation"}))),X(Ie,`Channel ${a(M),y(()=>{var se;return(se=a(M))==null?void 0:se.channel})??""}`),X(de,a(J))}),g(F,B)}),g(C,I)};Y(E,C=>{a(v),y(()=>!a(v).length)?C(ve):C(Ee,!1)})}o(_),g(w,_)};Y(oe,w=>{a(l)==="rules"?w(Ke):w(q,!1)})}g(ee,z)};Y(Q,ee=>{a(f)?ee(ie):ee(Ce,!1)},!0)}g(x,K)};Y(le,x=>{a(u)?x(_e):x(ue,!1)})}return o(G),o(A),ne(()=>{ft(U,1,`tab ${a(l)==="rules"?"active":""}`,"svelte-9le245"),ft(H,1,`tab ${a(l)==="ops"?"active":""}`,"svelte-9le245")}),ae("click",U,()=>re("rules")),ae("click",H,()=>re("ops")),g(e,A),Rt({get playerName(){return s()},set playerName(x){s(x),At()},get playerId(){return n()},set playerId(x){n(x),At()},$set:Jt,$on:(x,K)=>Kt(t,x,K)})}var Hi=S('<button class="btn danger svelte-151g21h">âŸ² Leave Group</button>'),Vi=S('<div class="panel svelte-151g21h"><div class="panel-head svelte-151g21h"><h3 class="svelte-151g21h">Create a New Group</h3> <button class="btn small svelte-151g21h">â† Back</button></div> <div class="form svelte-151g21h"><div class="field svelte-151g21h"><label class="svelte-151g21h">Group Name</label> <input class="input svelte-151g21h" placeholder="e.g. Night Watch"/></div> <div class="field svelte-151g21h"><label class="svelte-151g21h">Image URL (optional)</label> <input class="input svelte-151g21h" placeholder="https://..."/></div> <button class="btn btn-primary svelte-151g21h">Create</button></div></div>'),Yi=S('<div class="card svelte-151g21h"><div class="avatar svelte-151g21h"><img alt="" class="svelte-151g21h"/></div> <div class="card-name svelte-151g21h"> </div> <div class="card-sub svelte-151g21h"> </div></div>'),Wi=S('<div class="empty svelte-151g21h">No groups are available at the moment.</div>'),Ki=S('<div class="panel svelte-151g21h"><div class="panel-head svelte-151g21h"><h3 class="svelte-151g21h">Public Groups / Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ù…ØªØ§Ø­Ø©</h3> <span class="muted svelte-151g21h"> </span></div> <div class="grid svelte-151g21h"><div><div class="plus svelte-151g21h">ï¼‹</div> <div class="card-name svelte-151g21h">Create Group</div> <div class="card-sub svelte-151g21h">Ø£Ù†Ø´Ø¦ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¬Ø¯ÙŠØ¯Ø©</div></div> <!></div> <!></div>'),Ji=S('<button class="btn small svelte-151g21h">ðŸ“¥ Requests</button>'),Zi=S('<span class="leader svelte-151g21h" title="Leader">â˜…</span>'),Qi=S('<button class="kick svelte-151g21h">âœ•</button>'),eo=S('<div class="member svelte-151g21h"><!> <img class="m-img svelte-151g21h" alt=""/> <div class="m-name svelte-151g21h"> </div> <!></div>'),to=S('<div class="empty svelte-151g21h">This group has no members.</div>'),ro=S('<div class="panel svelte-151g21h"><div class="panel-head svelte-151g21h"><h3 class="svelte-151g21h">My Group</h3> <div class="head-actions"><!> <button class="btn small danger svelte-151g21h">âŸ² Leave</button></div></div> <div class="sub-title svelte-151g21h"> </div> <div class="members svelte-151g21h"></div> <!></div>'),ao=S('<div class="req svelte-151g21h"><div class="info svelte-151g21h"><img class="req-img svelte-151g21h" alt=""/> <span> </span></div> <div class="req-actions svelte-151g21h"><button class="btn small accept svelte-151g21h">âœ”</button> <button class="btn small deny svelte-151g21h">âœ–</button></div></div>'),so=S('<div class="empty svelte-151g21h">You have no pending join requests.</div>'),no=S('<div class="panel svelte-151g21h"><div class="panel-head svelte-151g21h"><h3 class="svelte-151g21h">Group Requests</h3> <button class="btn small svelte-151g21h">â† Back</button></div> <div class="reqs svelte-151g21h"></div> <!></div>'),lo=S('<div class="panel svelte-151g21h"><div class="panel-head svelte-151g21h"><h3 class="svelte-151g21h">Welcome</h3></div> <div class="intro svelte-151g21h"><p class="lead svelte-151g21h">Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø£ØµØ¯Ù‚Ø§Ø¦Ùƒ ÙˆØ£Ù†Ø¬Ø²ÙˆØ§ Ø§Ù„Ù…Ù‡Ø§Ù… Ø³ÙˆÙŠÙ‹Ø§ â€” Ø£Ù†Ø´Ø¦ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¬Ø¯ÙŠØ¯Ø© Ø£Ùˆ Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ ÙˆØ§Ø­Ø¯Ø© Ù…ØªØ§Ø­Ø©.</p> <p class="lead fr svelte-151g21h">Rejoignez vos amis et accomplissez des missions ensemble â€” crÃ©ez votre groupe ou rejoignez-en un.</p> <div class="cta svelte-151g21h"><button class="btn btn-primary svelte-151g21h">Create Group</button> <button class="btn svelte-151g21h">Available Groups</button></div></div></div>'),io=S('<section class="groups svelte-151g21h"><header class="topbar svelte-151g21h"><div class="tb-left svelte-151g21h"><img class="tb-icon svelte-151g21h" src="https://images.dz-crew.com/tablet/icons/group.png" alt="Groups"/> <div class="tb-titles svelte-151g21h"><h2 class="svelte-151g21h">Groups</h2> <p class="svelte-151g21h">Organize, recruit, and play together</p></div></div> <div class="tb-actions svelte-151g21h"><button class="btn svelte-151g21h">My Group</button> <button class="btn btn-primary svelte-151g21h">Create Group</button> <button class="btn svelte-151g21h">Available Groups</button> <!></div></header> <div class="content svelte-151g21h"><!></div></section>');function $n(e,t){if(new.target)return Yt({component:$n,...e});$t(t,!1);async function r(_,E={}){const ve=`https://${typeof GetParentResourceName=="function"?GetParentResourceName():"debug"}/${_}`;try{const Ee=await fetch(ve,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});try{return await Ee.json()}catch{return null}}catch{return null}}const s=(_,E)=>`${_} ${E}${_===1?"":"s"}`;let n=te("main"),l=te(!1),i=te(!1),v=0,u=te("WAITING"),f=te([]),p=te([]),k=te([]),T=te(""),j=te("");const b=()=>m(n,"main"),O=()=>{a(l)||m(n,"create")},P=()=>m(n,"group");async function W(){const _=await r("getActiveGroups",{});m(f,Array.isArray(_)?_:(_==null?void 0:_.groups)||[]),m(n,"list")}async function re(){const _=await r("view-requests",{groupID:v});m(k,Array.isArray(_)?_:(_==null?void 0:_.requests)||[]),m(n,"requests")}function d(){a(l)?m(n,"group"):W()}async function A(){if(!a(T).trim()||a(l))return;const _={name:a(T),image:a(j)},E=await r("group-create",_);E&&(m(l,!0),m(i,!0),v=E.groupID,m(p,[E]),m(u,"WAITING"),m(n,"group"),await r("group-created",{GroupID:v,status:a(u),leader:a(i)}),m(T,""),m(j,""))}async function R(_){await r("request-join",{groupID:_})}async function L(){if(!a(l))return;const _=v,E=[...a(p)],ve=a(i);m(l,!1),m(i,!1),v=0,m(p,[]),m(u,"None"),m(n,"main");try{await r("group-leave",{groupID:_}),await r("group-cleanup",{})}catch{m(l,!0),m(i,ve),v=_,m(p,E),m(u,"WAITING"),m(n,"group")}}async function U(_,E){a(k).splice(_,1),await r("request-accept",{player:E,groupID:v})}async function H(_,E){a(k).splice(_,1),await r("request-deny",{player:E,groupID:v})}async function G(_,E){a(p).splice(_,1),await r("member-kick",{player:E,groupID:v})}function le(){m(l,!1),m(i,!1),v=0,m(u,"None"),m(p,[]),m(k,[]),r("group-cleanup",{})}function _e(_){var ve;const E=_.data||{};E.action==="open"?m(n,a(l)?"group":"main"):E.action==="update"?E.type==="setStage"?(m(u,((ve=E.data)==null?void 0:ve.stage)||"WAITING"),r("update-status",{status:a(u)})):E.type==="groupDestroy"?(le(),m(n,"main")):E.type==="update"&&m(p,Array.isArray(E.data)?E.data:[]):E.action==="join"?(m(l,!0),v=E.groupID,m(n,"group")):E.action==="makeLeader"&&m(i,!0)}ir(async()=>{var _,E;window.addEventListener("message",_e),(E=(_=import.meta)==null?void 0:_.env)!=null&&E.DEV&&(m(f,[{id:1,name:"Alpha Squad",image:"https://via.placeholder.com/100/4299E1/FFFFFF?text=A",members:8},{id:2,name:"Bravo Team",image:"https://via.placeholder.com/100/48BB78/FFFFFF?text=B",members:14},{id:3,name:"Operation X",image:"https://via.placeholder.com/100/F56565/FFFFFF?text=O",members:3}]),m(l,!1),m(i,!1),m(n,"main"))}),Xr(()=>window.removeEventListener("message",_e)),Wt();var ue=io(),x=c(ue),K=h(c(x),2),Q=c(K),ie=h(Q,2),Ce=h(ie,2),ee=h(Ce,2);{var z=_=>{var E=Hi();ae("click",E,L),g(_,E)};Y(ee,_=>{a(n)==="group"&&_(z)})}o(K),o(x);var oe=h(x,2),Ke=c(oe);{var q=_=>{var E=Vi(),ve=c(E),Ee=h(c(ve),2);o(ve);var C=h(ve,2),I=c(C),N=h(c(I),2);br(N),o(I);var F=h(I,2),M=h(c(F),2);br(M),o(F);var D=h(F,2);o(C),o(E),ae("click",Ee,b),Br(N,()=>a(T),J=>m(T,J)),Br(M,()=>a(j),J=>m(j,J)),ae("click",D,A),g(_,E)},w=_=>{var E=$e(),ve=xe(E);{var Ee=I=>{var N=Ki(),F=c(N),M=h(c(F),2),D=c(M,!0);o(M),o(F);var J=h(F,2),Z=c(J);let B;var he=h(Z,2);We(he,1,()=>a(f),st,(me,we)=>{var Pe=Yi(),ge=c(Pe),Ie=c(ge);o(ge);var Se=h(ge,2),Ae=c(Se,!0);o(Se);var de=h(Se,2),Ue=c(de,!0);o(de),o(Pe),ne(ye=>{Ne(Pe,"title",a(we).name),Ne(Ie,"src",a(we).image||"https://images.dz-crew.com/tablet/groups/usericon.png"),X(Ae,a(we).name),X(Ue,ye)},[()=>s(a(we).members||0,"member")]),ae("click",Pe,()=>R(a(we).id)),g(me,Pe)}),o(J);var fe=h(J,2);{var pe=me=>{var we=Wi();g(me,we)};Y(fe,me=>{a(f).length||me(pe)})}o(N),ne((me,we)=>{X(D,me),B=ft(Z,1,"card dashed svelte-151g21h",null,B,we),Ne(Z,"title",a(l)?"Already in a group":"Create Group")},[()=>s(a(f).length,"group"),()=>({disabled:a(l)})]),ae("click",Z,()=>{a(l)||O()}),g(I,N)},C=I=>{var N=$e(),F=xe(N);{var M=J=>{var Z=ro(),B=c(Z),he=h(c(B),2),fe=c(he);{var pe=Ae=>{var de=Ji();ae("click",de,re),g(Ae,de)};Y(fe,Ae=>{a(i)&&Ae(pe)})}var me=h(fe,2);o(he),o(B);var we=h(B,2),Pe=c(we);o(we);var ge=h(we,2);We(ge,5,()=>a(p),st,(Ae,de,Ue)=>{var ye=eo(),qe=c(ye);{var Ge=V=>{var se=Zi();g(V,se)};Y(qe,V=>{a(de).isLeader&&V(Ge)})}var Le=h(qe,2),$=h(Le,2),Re=c($,!0);o($);var Je=h($,2);{var Qe=V=>{var se=Qi();ae("click",se,()=>G(Ue,a(de).id)),g(V,se)};Y(Je,V=>{a(i)&&!a(de).isLeader&&V(Qe)})}o(ye),ne(()=>{Ne(Le,"src",a(de).avatar||"./usericon.png"),Ne($,"title",a(de).name),X(Re,a(de).name)}),g(Ae,ye)}),o(ge);var Ie=h(ge,2);{var Se=Ae=>{var de=to();g(Ae,de)};Y(Ie,Ae=>{a(p).length||Ae(Se)})}o(Z),ne(()=>X(Pe,`Current Task: ${a(u)??""}`)),ae("click",me,L),g(J,Z)},D=J=>{var Z=$e(),B=xe(Z);{var he=pe=>{var me=no(),we=c(me),Pe=h(c(we),2);o(we);var ge=h(we,2);We(ge,5,()=>a(k),st,(Ae,de,Ue)=>{var ye=ao(),qe=c(ye),Ge=c(qe),Le=h(Ge,2),$=c(Le,!0);o(Le),o(qe);var Re=h(qe,2),Je=c(Re),Qe=h(Je,2);o(Re),o(ye),ne(()=>{Ne(Ge,"src",a(de).avatar||"./usericon.png"),X($,a(de).name)}),ae("click",Je,()=>U(Ue,a(de).id)),ae("click",Qe,()=>H(Ue,a(de).id)),g(Ae,ye)}),o(ge);var Ie=h(ge,2);{var Se=Ae=>{var de=so();g(Ae,de)};Y(Ie,Ae=>{a(k).length||Ae(Se)})}o(me),ae("click",Pe,P),g(pe,me)},fe=pe=>{var me=lo(),we=h(c(me),2),Pe=h(c(we),4),ge=c(Pe),Ie=h(ge,2);o(Pe),o(we),o(me),ne(()=>ge.disabled=a(l)),ae("click",ge,O),ae("click",Ie,W),g(pe,me)};Y(B,pe=>{a(n)==="requests"?pe(he):pe(fe,!1)},!0)}g(J,Z)};Y(F,J=>{a(n)==="group"?J(M):J(D,!1)},!0)}g(I,N)};Y(ve,I=>{a(n)==="list"?I(Ee):I(C,!1)},!0)}g(_,E)};Y(Ke,_=>{a(n)==="create"?_(q):_(w,!1)})}return o(oe),o(ue),ne(()=>{Q.disabled=!a(l),Ne(Q,"title",a(l)?"Open my group":"Not in a group"),ie.disabled=a(l),Ne(ie,"aria-disabled",a(l)),Ne(ie,"title",a(l)?"You are already in a group":"Create a group")}),ae("click",Q,d),ae("click",ie,O),ae("click",Ce,W),g(e,ue),Rt({$set:Jt,$on:(_,E)=>Kt(t,_,E)})}var oo=S('<div class="muted svelte-7etly5">Loadingâ€¦</div>'),vo=S('<div class="muted svelte-7etly5"> </div>'),co=S('<div class="muted svelte-7etly5">No items found.</div>'),uo=S('<span class="seg svelte-7etly5"><span class="fill svelte-7etly5"></span></span>'),fo=S('<span class="mchip danger svelte-7etly5">Critical</span>'),_o=S('<span class="mchip warn svelte-7etly5">Low</span>'),ho=S('<span class="mchip ok svelte-7etly5">Healthy</span>'),po=S('<article class="card svelte-7etly5"><header class="card-head svelte-7etly5"><div class="mat svelte-7etly5"><img class="m-img svelte-7etly5"/> <div class="m-meta svelte-7etly5"><div class="m-name svelte-7etly5"> </div> <div class="m-sub svelte-7etly5">Stock level</div></div></div> <div class="pct svelte-7etly5" title="Percentage"> </div></header> <div class="segbar svelte-7etly5"></div> <footer class="meta-row svelte-7etly5"><span class="mchip svelte-7etly5">Thresholds: 50% / 20%</span> <!></footer></article>'),mo=S('<section class="mini-header svelte-7etly5"><div class="ava svelte-7etly5" title="Factory">FN</div> <div class="meta svelte-7etly5"><div class="h-name svelte-7etly5">Factory Needs</div> <div class="h-tags svelte-7etly5"><span class="tag svelte-7etly5">Live Stock Monitor</span> <span class="tag ok svelte-7etly5">Synced</span> <span class="tag svelte-7etly5">Materials</span></div></div> <div class="header-actions svelte-7etly5"></div></section> <h4 class="section-title svelte-7etly5">Overview</h4> <section class="stats svelte-7etly5"><div class="stat svelte-7etly5"><div class="k svelte-7etly5">Total Materials</div> <div class="v svelte-7etly5"> </div></div> <div class="stat svelte-7etly5"><div class="k svelte-7etly5">Low (&lt; 50%)</div> <div class="v svelte-7etly5"> </div></div> <div class="stat svelte-7etly5"><div class="k svelte-7etly5">Critical (&lt; 20%)</div> <div class="v emph svelte-7etly5"> </div></div></section> <section class="toolbar svelte-7etly5"><input class="input svelte-7etly5" placeholder="Search materialsâ€¦" aria-label="Search materials"/> <label class="toggle svelte-7etly5"><input type="checkbox" class="svelte-7etly5"/> <span>Show &lt; 50%</span></label></section> <h4 class="section-title svelte-7etly5">Materials</h4> <section class="grid svelte-7etly5"><!></section>',1);function Rn(e,t){if(new.target)return Yt({component:Rn,...e});$t(t,!1);const r=te(),s=te(),n=te(),l=te();let i=te([]),v=te(""),u=te(!1),f=te(!1),p=te("");function k(z){const oe=Number(z)||0;return oe>=80?"linear-gradient(90deg,#2ecc71,#23bf8f)":oe>=50?"linear-gradient(90deg,#ffdd55,#f2b705)":oe>=20?"linear-gradient(90deg,#ff9a3c,#ff6a00)":"linear-gradient(90deg,#ff5967,#c0392b)"}const T=12;function j(z,oe=T){const q=Math.max(0,Math.min(1,(Number(z)||0)/100))*oe,w=Math.floor(q),_=q-w;return Array.from({length:oe},(E,ve)=>ve<w?1:ve===w?_:0)}function b(z){const oe=z.data||{};if(oe.type==="updateItems")try{m(i,Array.isArray(oe.items)?oe.items:JSON.parse(oe.items||"[]"))}catch{m(i,[])}}async function O(){const z=await dt("factory:getItems",{});m(i,(z==null?void 0:z.items)||[])}ir(()=>{window.addEventListener("message",b)}),Xr(()=>window.removeEventListener("message",b)),O(),mt(()=>a(i),()=>{m(r,a(i).length)}),mt(()=>a(i),()=>{m(s,a(i).filter(z=>Number(z.percentage)<50).length)}),mt(()=>a(i),()=>{m(n,a(i).filter(z=>Number(z.percentage)<20).length)}),mt(()=>(a(i),a(v),a(u)),()=>{m(l,a(i).filter(z=>{var oe;return(oe=z==null?void 0:z.material)==null?void 0:oe.toLowerCase().includes(String(a(v)).toLowerCase())}).filter(z=>a(u)?Number(z.percentage)<50:!0).sort((z,oe)=>(z.material||"").localeCompare(oe.material||"")))}),xr(),Wt();var P=mo(),W=h(xe(P),4),re=c(W),d=h(c(re),2),A=c(d,!0);o(d),o(re);var R=h(re,2),L=h(c(R),2),U=c(L,!0);o(L),o(R);var H=h(R,2),G=h(c(H),2),le=c(G,!0);o(G),o(H),o(W);var _e=h(W,2),ue=c(_e);br(ue);var x=h(ue,2),K=c(x);br(K),Nt(2),o(x),o(_e);var Q=h(_e,4),ie=c(Q);{var Ce=z=>{var oe=oo();g(z,oe)},ee=z=>{var oe=$e(),Ke=xe(oe);{var q=_=>{var E=vo(),ve=c(E,!0);o(E),ne(()=>X(ve,a(p))),g(_,E)},w=_=>{var E=$e(),ve=xe(E);{var Ee=I=>{var N=co();g(I,N)},C=I=>{var N=$e(),F=xe(N);We(F,1,()=>a(l),M=>M.material,(M,D)=>{const J=_r(()=>(a(D),y(()=>j(a(D).percentage))));var Z=po(),B=c(Z),he=c(B),fe=c(he),pe=h(fe,2),me=c(pe),we=c(me,!0);o(me),Nt(2),o(pe),o(he);var Pe=h(he,2),ge=c(Pe);o(Pe),o(B);var Ie=h(B,2);Lt(Ie,"--n:12"),We(Ie,5,()=>a(J),st,(ye,qe)=>{var Ge=uo(),Le=c(Ge);o(Ge),ne($=>Lt(Le,`--f:${a(qe)??""}; background:${$??""};`),[()=>(a(D),y(()=>k(a(D).percentage)))]),g(ye,Ge)}),o(Ie);var Se=h(Ie,2),Ae=h(c(Se),2);{var de=ye=>{var qe=fo();g(ye,qe)},Ue=ye=>{var qe=$e(),Ge=xe(qe);{var Le=Re=>{var Je=_o();g(Re,Je)},$=Re=>{var Je=ho();g(Re,Je)};Y(Ge,Re=>{a(D),y(()=>Number(a(D).percentage)<50)?Re(Le):Re($,!1)},!0)}g(ye,qe)};Y(Ae,ye=>{a(D),y(()=>Number(a(D).percentage)<20)?ye(de):ye(Ue,!1)})}o(Se),o(Z),ne(ye=>{Ne(fe,"alt",(a(D),y(()=>a(D).material+" icon"))),Ne(fe,"src",(a(D),y(()=>`https://images.dz-crew.com/inventory/icons/${a(D).material}.png`))),Ne(me,"title",(a(D),y(()=>a(D).material))),X(we,(a(D),y(()=>a(D).material))),X(ge,`${ye??""}%`)},[()=>(a(D),y(()=>Number(a(D).percentage).toFixed(1)))]),ae("error",fe,ye=>ye.currentTarget.style.visibility="hidden"),g(M,Z)}),g(I,N)};Y(ve,I=>{a(l),y(()=>!a(l).length)?I(Ee):I(C,!1)},!0)}g(_,E)};Y(Ke,_=>{a(p)?_(q):_(w,!1)},!0)}g(z,oe)};Y(ie,z=>{a(f)?z(Ce):z(ee,!1)})}return o(Q),ne(()=>{X(A,a(r)),X(U,a(s)),X(le,a(n))}),Br(ue,()=>a(v),z=>m(v,z)),ii(K,()=>a(u),z=>m(u,z)),g(e,P),Rt({$set:Jt,$on:(z,oe)=>Kt(t,z,oe)})}var go=S('<div class="muted svelte-1dhhovj">Loadingâ€¦</div>'),yo=S('<div class="muted svelte-1dhhovj"> </div>'),bo=S('<div class="home-wrap svelte-1dhhovj"><div class="hero svelte-1dhhovj"><h2 class="svelte-1dhhovj">Welcome!</h2> <p>Ø§Ø¨Ø¯Ø£ Ø¨Ø§Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ Ø§Ù„ØªÙ‚Ø¯Ù‘Ù… Ø£Ùˆ ØªØµÙÙ‘Ø­ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ØªØ§Ø­Ø©.</p> <div class="cta svelte-1dhhovj"><button class="btn-primary svelte-1dhhovj">Browse Legal</button> <button class="btn svelte-1dhhovj">Browse Illegal</button> <button class="btn svelte-1dhhovj">View Progress</button></div></div></div>'),wo=S('<span class="seg svelte-1dhhovj"><span class="fill svelte-1dhhovj"></span></span>'),ko=S('<span class="seg svelte-1dhhovj"><span class="fill svelte-1dhhovj"></span></span>'),Eo=S('<span class="seg svelte-1dhhovj"><span class="fill svelte-1dhhovj"></span></span>'),xo=S('<div class="progress-grid svelte-1dhhovj"><article class="p-card svelte-1dhhovj"><header class="p-top svelte-1dhhovj"><div class="p-title svelte-1dhhovj">Daily</div> <div class="p-lbl svelte-1dhhovj"> </div></header> <div class="segbar svelte-1dhhovj"></div> <footer class="p-foot svelte-1dhhovj"> </footer></article> <article class="p-card svelte-1dhhovj"><header class="p-top svelte-1dhhovj"><div class="p-title svelte-1dhhovj">Weekly</div> <div class="p-lbl svelte-1dhhovj"> </div></header> <div class="segbar svelte-1dhhovj"></div> <footer class="p-foot svelte-1dhhovj"> </footer></article> <article class="p-card svelte-1dhhovj"><header class="p-top svelte-1dhhovj"><div class="p-title svelte-1dhhovj">Milestones</div> <div class="p-lbl svelte-1dhhovj"> </div></header> <div class="segbar svelte-1dhhovj"></div> <footer class="p-foot svelte-1dhhovj"> </footer></article></div>'),No=S('<img class="img svelte-1dhhovj" alt=""/>'),So=S('<li><span class="k svelte-1dhhovj"> </span><span class="v svelte-1dhhovj"> </span></li>'),Ao=S('<ul class="meta svelte-1dhhovj"></ul>'),To=S('<div class="reward svelte-1dhhovj"><!></div>'),jo=S('<button class="btn-primary svelte-1dhhovj">Claim</button>'),Co=S('<button class="btn svelte-1dhhovj" disabled>Claimed</button>'),Io=S('<button class="btn svelte-1dhhovj" disabled>In progress</button>'),Lo=S('<article><!> <div class="c-body svelte-1dhhovj"><h4 class="c-title svelte-1dhhovj"> </h4> <div class="c-sub svelte-1dhhovj"> </div> <!> <!></div> <div class="c-foot svelte-1dhhovj"><!></div></article>'),Oo=S('<div class="muted svelte-1dhhovj">No legal tasks found.</div>'),Po=S('<div class="toolbar svelte-1dhhovj"><input class="input svelte-1dhhovj" placeholder="Filter legal tasksâ€¦"/> <button class="btn svelte-1dhhovj">â†» Refresh</button></div> <div class="cards svelte-1dhhovj"><!> <!></div>',1),Do=S('<img class="img svelte-1dhhovj" alt=""/>'),qo=S('<li><span class="k svelte-1dhhovj"> </span><span class="v svelte-1dhhovj"> </span></li>'),Mo=S('<ul class="meta svelte-1dhhovj"></ul>'),$o=S('<div class="reward svelte-1dhhovj"><!></div>'),Ro=S('<button class="btn-primary svelte-1dhhovj">Claim</button>'),Fo=S('<button class="btn svelte-1dhhovj" disabled>Claimed</button>'),Go=S('<button class="btn svelte-1dhhovj" disabled>In progress</button>'),Bo=S('<article><!> <div class="c-body svelte-1dhhovj"><h4 class="c-title svelte-1dhhovj"> </h4> <div class="c-sub svelte-1dhhovj"> </div> <!> <!></div> <div class="c-foot svelte-1dhhovj"><!></div></article>'),zo=S('<div class="muted svelte-1dhhovj">No illegal tasks found.</div>'),Uo=S('<div class="toolbar svelte-1dhhovj"><input class="input svelte-1dhhovj" placeholder="Filter illegal tasksâ€¦"/> <button class="btn svelte-1dhhovj">â†» Refresh</button></div> <div class="cards svelte-1dhhovj"><!> <!></div>',1),Xo=S('<section class="tasks-app svelte-1dhhovj"><header class="ta-head svelte-1dhhovj"><div class="left"><h3 class="title svelte-1dhhovj">Tasks & Missions</h3> <p class="sub svelte-1dhhovj">Ø§Ø®ØªØ± ØªØ¨ÙˆÙŠØ¨Ù‹Ø§: Ù…Ù‡Ø§Ù… Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© / ØºÙŠØ± Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© / Ø§Ù„ØªÙ‚Ø¯Ù‘Ù…</p></div> <nav class="tabs svelte-1dhhovj"><button>Home</button> <button>Legal</button> <button>Illegal</button> <button>Progress</button> <button class="tab danger svelte-1dhhovj">Close</button></nav></header> <div class="panel svelte-1dhhovj"><!></div></section>');function Fn(e,t){if(new.target)return Yt({component:Fn,...e});$t(t,!1);const r=te(),s=te();let n=te("home"),l=te(!1),i=te(""),v=te(0),u=te(0),f=te(0);const p={daily:4,weekly:49,milestone:1460};let k=te([]),T=te([]),j=te(""),b=te("");const O=12;function P(w,_,E=O){if(!_||_<=0)return Array.from({length:E},()=>0);const Ee=Math.max(0,Math.min(1,w/_))*E,C=Math.floor(Ee),I=Ee-C;return Array.from({length:E},(N,F)=>F<C?1:F===C?I:0)}function W(w,_){return!_||_<=0?0:Math.max(0,Math.min(100,Math.floor(w/_*100)))}async function re(){m(l,!0),m(i,"");try{const w=await dt("getProgressData",{}),_=(w==null?void 0:w.data)??w??{};m(v,Number(_.dailyTasksXP||0)),m(u,Number(_.weeklyTasksXP||0)),m(f,Number(_.milestonesXP||0))}catch{m(i,"Failed to load progress.")}finally{m(l,!1)}}async function d(){m(l,!0),m(i,"");try{await dt("refreshTasks",{})}catch{m(i,"Failed to load legal tasks.")}finally{m(l,!1)}}async function A(){m(l,!0),m(i,"");try{await dt("refreshTasks",{})}catch{m(i,"Failed to load illegal tasks.")}finally{m(l,!1)}}function R(w){return w.map(_=>({id:_.id??L(),title:_.title||"Untitled task",image:_.image||"",completed:Number(_.completed||0),required:Number(_.required||1),claimed:!!_.claimed,reward:_.reward??null,meta:Object.fromEntries(Object.entries(_).filter(([E])=>!["id","title","image","completed","required","claimed","reward"].includes(E)))}))}function L(){try{return crypto.getRandomValues(new Uint32Array(1))[0]}catch{return Math.floor(Math.random()*1e9)}}async function U(w,_){if(w.claimed||w.completed<w.required)return;const E=await dt("claimReward",{taskName:w.title});E!=null&&E.success&&(w.claimed=!0,re(),_==="legal"?d():A())}function H(w){m(n,w),w==="progress"&&re(),w==="legal"&&d(),w==="illegal"&&A()}function G(){fetch(`https://${typeof GetParentResourceName=="function"&&GetParentResourceName()||"debug"}/closeUI`,{method:"POST",body:"{}"}).catch(()=>{})}function le(w){const _=w.data||{};if(_.type==="loadTasks"&&(m(k,R(_.legalTasks||[])),m(T,R(_.illegalTasks||[]))),_.type==="updateProgress"){const E=(_==null?void 0:_.data)||{};m(v,Number(E.dailyTasksXP||0)),m(u,Number(E.weeklyTasksXP||0)),m(f,Number(E.milestonesXP||0))}_.type}ir(()=>{window.addEventListener("message",le)}),Xr(()=>window.removeEventListener("message",le)),mt(()=>(a(k),a(j)),()=>{m(r,a(k).filter(w=>String((w==null?void 0:w.title)||"").toLowerCase().includes(a(j).toLowerCase())))}),mt(()=>(a(T),a(b)),()=>{m(s,a(T).filter(w=>String((w==null?void 0:w.title)||"").toLowerCase().includes(a(b).toLowerCase())))}),xr(),Wt();var _e=Xo(),ue=c(_e),x=h(c(ue),2),K=c(x),Q=h(K,2),ie=h(Q,2),Ce=h(ie,2),ee=h(Ce,2);o(x),o(ue);var z=h(ue,2),oe=c(z);{var Ke=w=>{var _=go();g(w,_)},q=w=>{var _=$e(),E=xe(_);{var ve=C=>{var I=yo(),N=c(I,!0);o(I),ne(()=>X(N,a(i))),g(C,I)},Ee=C=>{var I=$e(),N=xe(I);{var F=D=>{var J=bo(),Z=c(J),B=h(c(Z),4),he=c(B),fe=h(he,2),pe=h(fe,2);o(B),o(Z),o(J),ae("click",he,()=>H("legal")),ae("click",fe,()=>H("illegal")),ae("click",pe,()=>H("progress")),g(D,J)},M=D=>{var J=$e(),Z=xe(J);{var B=fe=>{var pe=xo(),me=c(pe),we=c(me),Pe=h(c(we),2),ge=c(Pe);o(Pe),o(we);var Ie=h(we,2);Lt(Ie,"--n:12"),We(Ie,5,()=>(a(v),y(()=>P(a(v),p.daily))),st,(He,Ze)=>{var Ve=wo(),_t=c(Ve);o(Ve),ne(()=>Lt(_t,`--f:${a(Ze)??""}`)),g(He,Ve)}),o(Ie);var Se=h(Ie,2),Ae=c(Se);o(Se),o(me);var de=h(me,2),Ue=c(de),ye=h(c(Ue),2),qe=c(ye);o(ye),o(Ue);var Ge=h(Ue,2);Lt(Ge,"--n:12"),We(Ge,5,()=>(a(u),y(()=>P(a(u),p.weekly))),st,(He,Ze)=>{var Ve=ko(),_t=c(Ve);o(Ve),ne(()=>Lt(_t,`--f:${a(Ze)??""}`)),g(He,Ve)}),o(Ge);var Le=h(Ge,2),$=c(Le);o(Le),o(de);var Re=h(de,2),Je=c(Re),Qe=h(c(Je),2),V=c(Qe);o(Qe),o(Je);var se=h(Je,2);Lt(se,"--n:12"),We(se,5,()=>(a(f),y(()=>P(a(f),p.milestone))),st,(He,Ze)=>{var Ve=Eo(),_t=c(Ve);o(Ve),ne(()=>Lt(_t,`--f:${a(Ze)??""}`)),g(He,Ve)}),o(se);var Xe=h(se,2),xt=c(Xe);o(Xe),o(Re),o(pe),ne((He,Ze,Ve)=>{X(ge,`${a(v)??""} / ${y(()=>p.daily)??""} Pts`),X(Ae,`${He??""}%`),X(qe,`${a(u)??""} / ${y(()=>p.weekly)??""} Pts`),X($,`${Ze??""}%`),X(V,`${a(f)??""} / ${y(()=>p.milestone)??""} Pts`),X(xt,`${Ve??""}%`)},[()=>(a(v),y(()=>W(a(v),p.daily))),()=>(a(u),y(()=>W(a(u),p.weekly))),()=>(a(f),y(()=>W(a(f),p.milestone)))]),g(fe,pe)},he=fe=>{var pe=$e(),me=xe(pe);{var we=ge=>{var Ie=Po(),Se=xe(Ie),Ae=c(Se);br(Ae);var de=h(Ae,2);o(Se);var Ue=h(Se,2),ye=c(Ue);We(ye,1,()=>a(r),st,(Le,$)=>{var Re=Lo(),Je=c(Re);{var Qe=Fe=>{var Me=No();ne(()=>Ne(Me,"src",(a($),y(()=>a($).image)))),g(Fe,Me)};Y(Je,Fe=>{a($),y(()=>a($).image)&&Fe(Qe)})}var V=h(Je,2),se=c(V),Xe=c(se,!0);o(se);var xt=h(se,2),He=c(xt);o(xt);var Ze=h(xt,2);{var Ve=Fe=>{var Me=Ao();We(Me,5,()=>(a($),y(()=>Object.entries(a($).meta))),st,(or,vr)=>{var Be=Es(()=>ws(a(vr),2));let Te=()=>a(Be)[0],et=()=>a(Be)[1];var Ye=So(),Ct=c(Ye),tt=c(Ct,!0);o(Ct);var it=h(Ct),rt=c(it,!0);o(it),o(Ye),ne(Yr=>{X(tt,Te()),X(rt,Yr)},[()=>(et(),y(()=>String(et())))]),g(or,Ye)}),o(Me),g(Fe,Me)};Y(Ze,Fe=>{a($),y(()=>Object.keys(a($).meta).length)&&Fe(Ve)})}var _t=h(Ze,2);{var Sr=Fe=>{var Me=To(),or=c(Me);{var vr=Te=>{var et=Zr();ne(()=>X(et,`ðŸ’µ ${a($),y(()=>{var Ye;return(Ye=a($).reward.amount)==null?void 0:Ye.min})??""}â€“${a($),y(()=>{var Ye;return(Ye=a($).reward.amount)==null?void 0:Ye.max})??""} (${a($),y(()=>a($).reward.moneyType||"cash")??""})`)),g(Te,et)},Be=Te=>{var et=Zr();ne(()=>X(et,`ðŸŽ ${a($),y(()=>a($).reward.itemName)??""} Ã— ${a($),y(()=>{var Ye;return(Ye=a($).reward.itemCount)==null?void 0:Ye.min})??""}â€“${a($),y(()=>{var Ye;return(Ye=a($).reward.itemCount)==null?void 0:Ye.max})??""}`)),g(Te,et)};Y(or,Te=>{a($),y(()=>a($).reward.type==="money")?Te(vr):Te(Be,!1)})}o(Me),g(Fe,Me)};Y(_t,Fe=>{a($),y(()=>a($).reward)&&Fe(Sr)})}o(V);var jt=h(V,2),Hr=c(jt);{var Ar=Fe=>{var Me=jo();ae("click",Me,()=>U(a($),"legal")),g(Fe,Me)},Vr=Fe=>{var Me=$e(),or=xe(Me);{var vr=Te=>{var et=Co();g(Te,et)},Be=Te=>{var et=Io();g(Te,et)};Y(or,Te=>{a($),y(()=>a($).claimed)?Te(vr):Te(Be,!1)},!0)}g(Fe,Me)};Y(Hr,Fe=>{a($),y(()=>!a($).claimed&&a($).completed>=a($).required)?Fe(Ar):Fe(Vr,!1)})}o(jt),o(Re),ne(()=>{ft(Re,1,`card ${a($),y(()=>a($).claimed?"done":"")??""}`,"svelte-1dhhovj"),Ne(se,"title",(a($),y(()=>a($).title))),X(Xe,(a($),y(()=>a($).title))),X(He,`${a($),y(()=>a($).completed)??""} / ${a($),y(()=>a($).required)??""}`)}),g(Le,Re)});var qe=h(ye,2);{var Ge=Le=>{var $=Oo();g(Le,$)};Y(qe,Le=>{a(r),y(()=>!a(r).length)&&Le(Ge)})}o(Ue),Br(Ae,()=>a(j),Le=>m(j,Le)),ae("click",de,d),g(ge,Ie)},Pe=ge=>{var Ie=$e(),Se=xe(Ie);{var Ae=de=>{var Ue=Uo(),ye=xe(Ue),qe=c(ye);br(qe);var Ge=h(qe,2);o(ye);var Le=h(ye,2),$=c(Le);We($,1,()=>a(s),st,(Qe,V)=>{var se=Bo(),Xe=c(se);{var xt=Be=>{var Te=Do();ne(()=>Ne(Te,"src",(a(V),y(()=>a(V).image)))),g(Be,Te)};Y(Xe,Be=>{a(V),y(()=>a(V).image)&&Be(xt)})}var He=h(Xe,2),Ze=c(He),Ve=c(Ze,!0);o(Ze);var _t=h(Ze,2),Sr=c(_t);o(_t);var jt=h(_t,2);{var Hr=Be=>{var Te=Mo();We(Te,5,()=>(a(V),y(()=>Object.entries(a(V).meta))),st,(et,Ye)=>{var Ct=Es(()=>ws(a(Ye),2));let tt=()=>a(Ct)[0],it=()=>a(Ct)[1];var rt=qo(),Yr=c(rt),Bn=c(Yr,!0);o(Yr);var ms=h(Yr),zn=c(ms,!0);o(ms),o(rt),ne(Un=>{X(Bn,tt()),X(zn,Un)},[()=>(it(),y(()=>String(it())))]),g(et,rt)}),o(Te),g(Be,Te)};Y(jt,Be=>{a(V),y(()=>Object.keys(a(V).meta).length)&&Be(Hr)})}var Ar=h(jt,2);{var Vr=Be=>{var Te=$o(),et=c(Te);{var Ye=tt=>{var it=Zr();ne(()=>X(it,`ðŸ’µ ${a(V),y(()=>{var rt;return(rt=a(V).reward.amount)==null?void 0:rt.min})??""}â€“${a(V),y(()=>{var rt;return(rt=a(V).reward.amount)==null?void 0:rt.max})??""} (${a(V),y(()=>a(V).reward.moneyType||"cash")??""})`)),g(tt,it)},Ct=tt=>{var it=Zr();ne(()=>X(it,`ðŸŽ ${a(V),y(()=>a(V).reward.itemName)??""} Ã— ${a(V),y(()=>{var rt;return(rt=a(V).reward.itemCount)==null?void 0:rt.min})??""}â€“${a(V),y(()=>{var rt;return(rt=a(V).reward.itemCount)==null?void 0:rt.max})??""}`)),g(tt,it)};Y(et,tt=>{a(V),y(()=>a(V).reward.type==="money")?tt(Ye):tt(Ct,!1)})}o(Te),g(Be,Te)};Y(Ar,Be=>{a(V),y(()=>a(V).reward)&&Be(Vr)})}o(He);var Fe=h(He,2),Me=c(Fe);{var or=Be=>{var Te=Ro();ae("click",Te,()=>U(a(V),"illegal")),g(Be,Te)},vr=Be=>{var Te=$e(),et=xe(Te);{var Ye=tt=>{var it=Fo();g(tt,it)},Ct=tt=>{var it=Go();g(tt,it)};Y(et,tt=>{a(V),y(()=>a(V).claimed)?tt(Ye):tt(Ct,!1)},!0)}g(Be,Te)};Y(Me,Be=>{a(V),y(()=>!a(V).claimed&&a(V).completed>=a(V).required)?Be(or):Be(vr,!1)})}o(Fe),o(se),ne(()=>{ft(se,1,`card ${a(V),y(()=>a(V).claimed?"done":"")??""}`,"svelte-1dhhovj"),Ne(Ze,"title",(a(V),y(()=>a(V).title))),X(Ve,(a(V),y(()=>a(V).title))),X(Sr,`${a(V),y(()=>a(V).completed)??""} / ${a(V),y(()=>a(V).required)??""}`)}),g(Qe,se)});var Re=h($,2);{var Je=Qe=>{var V=zo();g(Qe,V)};Y(Re,Qe=>{a(s),y(()=>!a(s).length)&&Qe(Je)})}o(Le),Br(qe,()=>a(b),Qe=>m(b,Qe)),ae("click",Ge,A),g(de,Ue)};Y(Se,de=>{a(n)==="illegal"&&de(Ae)},!0)}g(ge,Ie)};Y(me,ge=>{a(n)==="legal"?ge(we):ge(Pe,!1)},!0)}g(fe,pe)};Y(Z,fe=>{a(n)==="progress"?fe(B):fe(he,!1)},!0)}g(D,J)};Y(N,D=>{a(n)==="home"?D(F):D(M,!1)})}g(C,I)};Y(E,C=>{a(i)?C(ve):C(Ee,!1)},!0)}g(w,_)};Y(oe,w=>{a(l)?w(Ke):w(q,!1)})}return o(z),o(_e),ne(()=>{ft(K,1,`tab ${a(n)==="home"?"active":""}`,"svelte-1dhhovj"),ft(Q,1,`tab ${a(n)==="legal"?"active":""}`,"svelte-1dhhovj"),ft(ie,1,`tab ${a(n)==="illegal"?"active":""}`,"svelte-1dhhovj"),ft(Ce,1,`tab ${a(n)==="progress"?"active":""}`,"svelte-1dhhovj")}),ae("click",K,()=>H("home")),ae("click",Q,()=>H("legal")),ae("click",ie,()=>H("illegal")),ae("click",Ce,()=>H("progress")),ae("click",ee,G),g(e,_e),Rt({$set:Jt,$on:(w,_)=>Kt(t,w,_)})}var Ho=S('<main class="view"><section class="welcome"><div class="hello">Welcome</div> <div class="player"> </div></section> <!></main>'),Vo=S('<main class="view" aria-label="Devices"><div class="toolbar svelte-k998vy"><button class="btn">â† Back</button> <h3 class="toolbar__title svelte-k998vy">Attached Device(s)</h3></div> <!></main>'),Yo=S('<main class="view" aria-label="Profile"><div class="toolbar svelte-k998vy"><button class="btn">â† Back</button> <h3 class="toolbar__title svelte-k998vy">Player Profile</h3></div> <!></main>'),Wo=S('<main class="view" aria-label="Police App"><div class="toolbar svelte-k998vy"><button class="btn">â† Back</button> <h3 class="toolbar__title svelte-k998vy">Police App</h3></div> <!></main>'),Ko=S('<main class="view" aria-label="Groups App"><div class="toolbar svelte-k998vy"><button class="btn">â† Back</button> <h3 class="toolbar__title svelte-k998vy">Groups</h3></div> <!></main>'),Jo=S('<main class="view" aria-label="Factory App"><div class="toolbar svelte-k998vy"><button class="btn">â† Back</button> <h3 class="toolbar__title svelte-k998vy">Factory Needs</h3></div> <!></main>'),Zo=S('<main class="view" aria-label="Tasks App"><div class="toolbar svelte-k998vy"><button class="btn">â† Back</button> <h3 class="toolbar__title svelte-k998vy">Tasks</h3></div> <!></main>'),Qo=S('<div id="app" class="screen hidden"><!> <!></div>');function Gn(e,t){if(new.target)return Yt({component:Gn,...e});$t(t,!1);const[r,s]=Pa(),n=()=>Bt(Ja,"$playerName",r),l=()=>Bt(Fa,"$apps",r),i=()=>Bt(Za,"$playerState",r);let v=te("home");function u(){m(v,"devices"),T()}function f(){m(v,"profile")}function p(){m(v,"home")}function k(){ba("close",{})}async function T(){try{const d=await On();Pt.set((d==null?void 0:d.attached)||[]),Qt.set((d==null?void 0:d.inventory)||[]),qr.set((d==null?void 0:d.slots)??6)}catch{Pt.set([]),Qt.set([]),qr.set(6)}}ir(()=>{fi(d=>{var A,R,L,U,H;if(d!=null&&d.type&&(d.type==="tablet:native:open"&&d.name==="police"&&(m(v,"police"),(A=document.getElementById("app"))==null||A.classList.remove("hidden")),d.type==="tablet:native:open"&&d.name==="groups"&&(m(v,"groups"),(R=document.getElementById("app"))==null||R.classList.remove("hidden")),d.type==="tablet:native:open"&&d.name==="factory"&&(m(v,"factory"),(L=document.getElementById("app"))==null||L.classList.remove("hidden")),d.type==="tablet:native:open"&&d.name==="tasks"&&(m(v,"tasks"),(U=document.getElementById("app"))==null||U.classList.remove("hidden")),d.type==="tablet:open"&&(async()=>{var le,_e,ue,x,K,Q,ie,Ce;Ja.set(d.playerName||"Citizen"),Za.set({...d.player||{job:"",gang:"",onDuty:!1},id:(le=d.player)==null?void 0:le.id,phone:(_e=d.player)==null?void 0:_e.phone,money:(ue=d.player)==null?void 0:ue.money,bank:(x=d.player)==null?void 0:x.bank,xp:((K=d.player)==null?void 0:K.xp)??0,level:((Q=d.player)==null?void 0:Q.level)??1,badges:((ie=d.player)==null?void 0:ie.badges)??[]});const G=Array.isArray(d.apps)?d.apps.slice():[];G.sort((ee,z)=>(ee.order||999)-(z.order||999)),await T(),Fa.set(G),m(v,"home"),(Ce=document.getElementById("app"))==null||Ce.classList.remove("hidden")})(),d.type==="tablet:close"&&((H=document.getElementById("app"))==null||H.classList.add("hidden"),m(v,"home")),d.type==="tablet:setApps")){const G=Array.isArray(d.apps)?d.apps.slice():[];G.sort((le,_e)=>(le.order||999)-(_e.order||999)),Fa.set(G)}})}),Wt();var j=Qo(),b=c(j);In(b,{onDevices:u,onClose:k,onProfile:f});var O=h(b,2);{var P=d=>{var A=Ho(),R=c(A),L=h(c(R),2),U=c(L,!0);o(L),o(R);var H=h(R,2);Pn(H,{get apps(){return l()},get playerName(){return n()},get playerState(){return i()}}),o(A),ne(()=>X(U,n())),g(d,A)},W=d=>{var A=$e(),R=xe(A);{var L=H=>{var G=Vo(),le=c(G),_e=c(le);Nt(2),o(le);var ue=h(le,2);Dn(ue,{}),o(G),ae("click",_e,p),g(H,G)},U=H=>{var G=$e(),le=xe(G);{var _e=x=>{var K=Yo(),Q=c(K),ie=c(Q);Nt(2),o(Q);var Ce=h(Q,2);qn(Ce,{get playerName(){return n()},get playerState(){return i()}}),o(K),ae("click",ie,p),g(x,K)},ue=x=>{var K=$e(),Q=xe(K);{var ie=ee=>{var z=Wo(),oe=c(z),Ke=c(oe);Nt(2),o(oe);var q=h(oe,2);Mn(q,{get playerId(){return i().PlayerId}}),o(z),ae("click",Ke,p),g(ee,z)},Ce=ee=>{var z=$e(),oe=xe(z);{var Ke=w=>{var _=Ko(),E=c(_),ve=c(E);Nt(2),o(E);var Ee=h(E,2);$n(Ee,{}),o(_),ae("click",ve,p),g(w,_)},q=w=>{var _=$e(),E=xe(_);{var ve=C=>{var I=Jo(),N=c(I),F=c(N);Nt(2),o(N);var M=h(N,2);Rn(M,{}),o(I),ae("click",F,p),g(C,I)},Ee=C=>{var I=$e(),N=xe(I);{var F=M=>{var D=Zo(),J=c(D),Z=c(J);Nt(2),o(J);var B=h(J,2);Fn(B,{}),o(D),ae("click",Z,p),g(M,D)};Y(N,M=>{a(v)==="tasks"&&M(F)},!0)}g(C,I)};Y(E,C=>{a(v)==="factory"?C(ve):C(Ee,!1)},!0)}g(w,_)};Y(oe,w=>{a(v)==="groups"?w(Ke):w(q,!1)},!0)}g(ee,z)};Y(Q,ee=>{a(v)==="police"?ee(ie):ee(Ce,!1)},!0)}g(x,K)};Y(le,x=>{a(v)==="profile"?x(_e):x(ue,!1)},!0)}g(H,G)};Y(R,H=>{a(v)==="devices"?H(L):H(U,!1)},!0)}g(d,A)};Y(O,d=>{a(v)==="home"?d(P):d(W,!1)})}o(j),g(e,j);var re=Rt({$set:Jt,$on:(d,A)=>Kt(t,d,A)});return s(),re}new Gn({target:document.getElementById("root")});
